<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lessons for the Materials Project Workshop"><link href=https://workshop.materialsproject.org/lessons/07_mpcontribs/contribute/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>MPContribs - The Materials Project Workshop</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#546d78><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/workshop.css><link rel=stylesheet href=../../../css/ansi-colours.css><link rel=stylesheet href=../../../css/jupyter-cells.css><link rel=stylesheet href=../../../css/pandas-dataframe.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=blue-grey data-md-color-accent> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mpcontribs class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="The Materials Project Workshop" class="md-header__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Materials Project Workshop </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> MPContribs </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="The Materials Project Workshop" class="md-nav__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> The Materials Project Workshop </label> <div class=md-nav__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../logistics/logistics/ class=md-nav__link> Logistics </a> </li> <li class=md-nav__item> <a href=../../../people/people/ class=md-nav__link> People </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> Code of Conduct </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Primer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Primer data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Primer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../primer/01_basic_python/0%20-%20Introduction%20and%20Jupyter%20Use/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../../primer/01_basic_python/1%20-%20Python%20Primer/ class=md-nav__link> Basic Python </a> </li> <li class=md-nav__item> <a href=../../../primer/02_building_logic/2%20-%20Python%20Primer%20-%20Part%20II/ class=md-nav__link> Advanced Python </a> </li> <li class=md-nav__item> <a href=../../../primer/03_MongoDB_part1/lessons/ class=md-nav__link> Intro to MongoDB </a> </li> <li class=md-nav__item> <a href=../../../primer/04_MongoDB_part2/lesson/ class=md-nav__link> Advanced MongoDB </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Workshop <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Workshop data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Workshop </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1> Day 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 1" data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Day 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../01_website_walkthrough/website_walkthrough/ class=md-nav__link> The Materials Project Website </a> </li> <li class=md-nav__item> <a href=../../02_intro_pymatgen/1%20-%20pymatgen%20foundations/ class=md-nav__link> Intro to Pymatgen </a> </li> <li class=md-nav__item> <a href=../../03_surfaces/Working%20With%20Surfaces_lesson/ class=md-nav__link> Working with Surfaces </a> </li> <li class=md-nav__item> <a href=../../04_materials_api/api_use/ class=md-nav__link> The Materials API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2 checked> <label class=md-nav__link for=__nav_6_2> Day 2 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 2" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Day 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../05_automated_dft/Lesson/ class=md-nav__link> Automated DFT </a> </li> <li class=md-nav__item> <a href=../../06_new_systems/06%20-%20New%20Systems%20-%20filled/ class=md-nav__link> Exploring New Systems </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> MPContribs <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> MPContribs </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#walkthrough class=md-nav__link> Walkthrough </a> <nav class=md-nav aria-label=Walkthrough> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exercises class=md-nav__link> Exercises </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#contribute-data-on-refractive-index class=md-nav__link> Contribute data on Refractive Index </a> <nav class=md-nav aria-label="Contribute data on Refractive Index"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#retrieve-and-update-project-info class=md-nav__link> Retrieve and update project info </a> </li> <li class=md-nav__item> <a href=#create-contributions class=md-nav__link> Create contributions </a> </li> <li class=md-nav__item> <a href=#submit-contributions class=md-nav__link> Submit contributions </a> </li> <li class=md-nav__item> <a href=#retrieve-and-query-contributions class=md-nav__link> Retrieve and query contributions </a> </li> <li class=md-nav__item> <a href=#exercises_1 class=md-nav__link> Exercises </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../08_ml_matminer/matminer-notes/ class=md-nav__link> Machine Learning with MatMiner </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#walkthrough class=md-nav__link> Walkthrough </a> <nav class=md-nav aria-label=Walkthrough> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exercises class=md-nav__link> Exercises </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#contribute-data-on-refractive-index class=md-nav__link> Contribute data on Refractive Index </a> <nav class=md-nav aria-label="Contribute data on Refractive Index"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#retrieve-and-update-project-info class=md-nav__link> Retrieve and update project info </a> </li> <li class=md-nav__item> <a href=#create-contributions class=md-nav__link> Create contributions </a> </li> <li class=md-nav__item> <a href=#submit-contributions class=md-nav__link> Submit contributions </a> </li> <li class=md-nav__item> <a href=#retrieve-and-query-contributions class=md-nav__link> Retrieve and query contributions </a> </li> <li class=md-nav__item> <a href=#exercises_1 class=md-nav__link> Exercises </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/materialsproject/workshop/edit/master/docs/lessons/07_mpcontribs/contribute.ipynb title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <script src=https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js></script> <script>
(function() {
  function addWidgetsRenderer() {
    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var scriptElement = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    scriptElement.src = widgetRendererSrc;
    document.body.appendChild(scriptElement);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h1 id=mpcontribs>MPContribs<a class=headerlink href=#mpcontribs title="Permanent link">&para;</a></h1> <h2 id=walkthrough>Walkthrough<a class=headerlink href=#walkthrough title="Permanent link">&para;</a></h2> <ul> <li>start with a <a href=https://materialsproject.org/materials/mp-2715/#user-contribs>materials detail page</a> on MP with user contributions</li> <li>navigate to the <a href=https://portal.mpcontribs.org>portal</a> and explore</li> <li>discover the <a href=https://api.mpcontribs.org>API documentation</a> </li> </ul> <h3 id=exercises>Exercises<a class=headerlink href=#exercises title="Permanent link">&para;</a></h3> <ul> <li>make yourself familiar with datasets available on MPContribs</li> <li>use the <code>Search</code> tab to find interesting contributions and their MP detail page(s)</li> <li>scan the example notebooks in the <code>Work</code> tab</li> <li>consider applying for your own project via the <code>Apply</code> tab</li> <li>feel free to ask questions on Slack</li> </ul> <h2 id=contribute-data-on-refractive-index>Contribute data on Refractive Index<a class=headerlink href=#contribute-data-on-refractive-index title="Permanent link">&para;</a></h2> <p>For demonstration purposes, we prepared data from <a href=https://refractiveindex.info>https://refractiveindex.info</a> for you to contribute using the <a href=https://pypi.org/project/mpcontribs-client/ >mpcontribs-client</a>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>mp_workshop.mpcontribs</span> <span class=kn>import</span> <span class=n>data</span>
<span class=kn>from</span> <span class=nn>mpcontribs.client</span> <span class=kn>import</span> <span class=n>Client</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>FW Echo Test: MP Workshop
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We're setting the name of our project and initialize the API client with our API key. Here, we use a dedicated <code>sandbox</code> project and provide you with the API key through Slack. Feel free to use your own project name and API key instead if you were successful in applying for a project (and getting it approved) during the previous exercise.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;sandbox&#39;</span> <span class=c1># this should/could be your project</span>
<span class=n>client</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=s1>&#39;api-key-here&#39;</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=retrieve-and-update-project-info>Retrieve and update project info<a class=headerlink href=#retrieve-and-update-project-info title="Permanent link">&para;</a></h3> <p>We might have missed to add all references when we applied for the project on the portal. So let's update them and also set <code>unique_identifiers</code> to <code>False</code>. This flag indicates that this project can contain multiple contributions (rows in the landing page's overview table) for the same MP material (<code>mp-id</code>).</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>client</span><span class=o>.</span><span class=n>projects</span><span class=o>.</span><span class=n>update_entry</span><span class=p>(</span><span class=n>pk</span><span class=o>=</span><span class=n>name</span><span class=p>,</span> <span class=n>project</span><span class=o>=</span><span class=p>{</span>
    <span class=s1>&#39;unique_identifiers&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
    <span class=s1>&#39;references&#39;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s1>&#39;label&#39;</span><span class=p>:</span> <span class=s1>&#39;Docs&#39;</span><span class=p>,</span> <span class=s1>&#39;url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://mpcontribs.org&#39;</span><span class=p>},</span>
        <span class=p>{</span><span class=s1>&#39;label&#39;</span><span class=p>:</span> <span class=s1>&#39;Source&#39;</span><span class=p>,</span> <span class=s1>&#39;url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://refractiveindex.info&#39;</span><span class=p>}</span>
    <span class=p>]</span>
<span class=p>})</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;unique_identifiers&#39;: False,
 &#39;references&#39;: [{&#39;label&#39;: &#39;Docs&#39;, &#39;url&#39;: &#39;https://mpcontribs.org&#39;},
  {&#39;label&#39;: &#39;Source&#39;, &#39;url&#39;: &#39;https://refractiveindex.info&#39;}]}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>The response above indicates which fields have been updated in the database. We can confirm that by retrieving the full information stored for the project. Note that, the <code>columns</code> key is set and updated automatically when data is later added to the project.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>client</span><span class=o>.</span><span class=n>get_project</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=o>.</span><span class=n>pretty</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_html rendered_html output_subarea "> <table class="table is-narrow is-fullwidth has-background-light"><tr><th>name</th><td>sandbox</td></tr><tr><th>is_public</th><td>True</td></tr><tr><th>title</th><td>Sandbox</td></tr><tr><th>owner</th><td>phuck@lbl.gov</td></tr><tr><th>is_approved</th><td>True</td></tr><tr><th>unique_identifiers</th><td>False</td></tr><tr><th>long_title</th><td>Sandbox for Workshop 2020</td></tr><tr><th>authors</th><td>P. Huck</td></tr><tr><th>description</th><td>This project is for testing purposes only. It&#x27;s being used for the MP Workshop, for instance, and might be reset/deleted without advanced notice.</td></tr><tr><th>references</th><td><table class="table is-narrow is-fullwidth has-background-light"><thead><tr><th>label</th><th>url</th></tr></thead><tbody><tr><td>Docs</td><td>https://mpcontribs.org</td></tr><tr><td>Source</td><td>https://refractiveindex.info</td></tr></tbody></table></td></tr><tr><th>columns</th><td></td></tr></table> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=create-contributions>Create contributions<a class=headerlink href=#create-contributions title="Permanent link">&para;</a></h3> <p>The <code>data</code> dictionary imported above from our workshop library contains a small list of ready-to-go contributions for each attendee. Let's find our entry and explore it a little.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>data</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>dict_keys([&#39;aggrey&#39;, &#39;saleemaldajani&#39;, &#39;sayoudaq&#39;, &#39;arias&#39;, &#39;baatar&#39;, &#39;bagherzad&#39;, &#39;bavdekar&#39;, &#39;rpuga&#39;, &#39;bogdan&#39;, &#39;bonkowski&#39;, &#39;chalk&#39;, &#39;cuillier&#39;, &#39;dahliah&#39;, &#39;delgado&#39;, &#39;adonakowski&#39;, &#39;anetxeb&#39;, &#39;fallon&#39;, &#39;sfaraji&#39;, &#39;gangopadhyay&#39;, &#39;garcia&#39;, &#39;giammona&#39;, &#39;gibson&#39;, &#39;jglodo&#39;, &#39;tul10053&#39;, &#39;guillen&#39;, &#39;sgup&#39;, &#39;hjzfree&#39;, &#39;hassan&#39;, &#39;hawkins&#39;, &#39;homer&#39;, &#39;hoermann&#39;, &#39;hossain&#39;, &#39;ajh618&#39;, &#39;akrami1&#39;, &#39;cjang&#39;, &#39;jiang&#39;, &#39;jinxing&#39;, &#39;djohnson&#39;, &#39;hjohnson&#39;, &#39;juhasz&#39;, &#39;kaliappan&#39;, &#39;krkaufma&#39;, &#39;kinsley&#39;, &#39;physics979&#39;, &#39;lanetti&#39;, &#39;fall&#39;, &#39;lau&#39;, &#39;xl2778&#39;, &#39;liang&#39;, &#39;lin&#39;, &#39;jlow&#39;, &#39;luyuan&#39;, &#39;amantra&#39;, &#39;lamcrae&#39;, &#39;fanchem&#39;, &#39;mirza&#39;, &#39;tara&#39;, &#39;imonterrubio&#39;, &#39;nawwar&#39;, &#39;oertel&#39;, &#39;hiroko&#39;, &#39;no6&#39;, &#39;spa031&#39;, &#39;paulino&#39;, &#39;gollapalli&#39;, &#39;xqi&#39;, &#39;aramac&#39;, &#39;mreynaud&#39;, &#39;cicenergigune&#39;, &#39;rrivers&#39;, &#39;rom&#39;, &#39;schwietert&#39;, &#39;sebastian&#39;, &#39;shaw&#39;, &#39;psonbell&#39;, &#39;sspr&#39;, &#39;ksteirer&#39;, &#39;stuckner&#39;, &#39;sun&#39;, &#39;atantillo&#39;, &#39;tappan&#39;, &#39;taylor&#39;, &#39;prabalt&#39;, &#39;tiwari&#39;, &#39;tolentino&#39;, &#39;tomczak&#39;, &#39;tsaie&#39;, &#39;vanbever&#39;, &#39;vasileiadis&#39;, &#39;verma&#39;, &#39;wang&#39;, &#39;n01392810&#39;, &#39;wufeifeng&#39;, &#39;yuan&#39;, &#39;hongxing&#39;, &#39;zyzhang&#39;, &#39;xiaojing&#39;, &#39;dwaraknath&#39;, &#39;horton&#39;, &#39;huck&#39;, &#39;persson&#39;])</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>me</span> <span class=o>=</span> <span class=s2>&quot;huck&quot;</span>
<span class=n>data</span><span class=p>[</span><span class=n>me</span><span class=p>]</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[{&#39;identifier&#39;: &#39;mp-6134&#39;,
  &#39;data&#39;: {&#39;type&#39;: &#39;f4&#39;,
   &#39;Δλ&#39;: {&#39;min&#39;: &#39;0.4 µm&#39;, &#39;max&#39;: &#39;1.0 µm&#39;},
   &#39;coefficients&#39;: {&#39;c0&#39;: &#39;1.92155&#39;,
    &#39;c1&#39;: &#39;0.00494&#39;,
    &#39;c2&#39;: &#39;0&#39;,
    &#39;c3&#39;: &#39;0.00617&#39;,
    &#39;c4&#39;: &#39;1&#39;,
    &#39;c5&#39;: &#39;0&#39;,
    &#39;c6&#39;: &#39;0&#39;,
    &#39;c7&#39;: &#39;0&#39;,
    &#39;c8&#39;: &#39;1&#39;,
    &#39;c9&#39;: &#39;-0.00373&#39;,
    &#39;c10&#39;: &#39;2&#39;}},
  &#39;tables&#39;: [            wl         n
   Woods-e                 
   0        0.400  1.397522
   1        0.406  1.397165
   2        0.412  1.396824
   3        0.418  1.396498
   4        0.424  1.396186
   ...        ...       ...
   96       0.976  1.386801
   97       0.982  1.386762
   98       0.988  1.386723
   99       0.994  1.386685
   100      1.000  1.386647

   [101 rows x 2 columns]]},
 {&#39;identifier&#39;: &#39;mp-6134&#39;,
  &#39;data&#39;: {&#39;type&#39;: &#39;f4&#39;,
   &#39;Δλ&#39;: {&#39;min&#39;: &#39;0.4 µm&#39;, &#39;max&#39;: &#39;1.0 µm&#39;},
   &#39;coefficients&#39;: {&#39;c0&#39;: &#39;1.92552&#39;,
    &#39;c1&#39;: &#39;0.00492&#39;,
    &#39;c2&#39;: &#39;0&#39;,
    &#39;c3&#39;: &#39;0.00569&#39;,
    &#39;c4&#39;: &#39;1&#39;,
    &#39;c5&#39;: &#39;0&#39;,
    &#39;c6&#39;: &#39;0&#39;,
    &#39;c7&#39;: &#39;0&#39;,
    &#39;c8&#39;: &#39;1&#39;,
    &#39;c9&#39;: &#39;-0.00421&#39;,
    &#39;c10&#39;: &#39;2&#39;}},
  &#39;tables&#39;: [            wl         n
   Woods-o                 
   0        0.400  1.398832
   1        0.406  1.398478
   2        0.412  1.398140
   3        0.418  1.397817
   4        0.424  1.397507
   ...        ...       ...
   96       0.976  1.388058
   97       0.982  1.388017
   98       0.988  1.387977
   99       0.994  1.387937
   100      1.000  1.387897

   [101 rows x 2 columns]]}]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Notice that a contribution to a specific MP material contains 3 optional components:</p> <ul> <li>simple (potentially nested) "key-value" data</li> <li>tables as Pandas DataFrame objects (think spreadsheets and csv files)</li> <li>structures as Pymatgen Structure objects (think CIF, POSCAR, ...)</li> </ul> <p>The only thing left to do here is a quick loop over the contributions to assign each of them to our project and set it to public. By default, projects and contributions are private and only visible (and writable) to project owners and their collaborators. The owner needs to explicitly request for a collaborator to be added to the project group.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=k>for</span> <span class=n>contrib</span> <span class=ow>in</span> <span class=n>data</span><span class=p>[</span><span class=n>me</span><span class=p>]:</span>
    <span class=n>contrib</span><span class=p>[</span><span class=s2>&quot;project&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>name</span>
    <span class=n>contrib</span><span class=p>[</span><span class=s2>&quot;is_public&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>

<span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>me</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>2</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=submit-contributions>Submit contributions<a class=headerlink href=#submit-contributions title="Permanent link">&para;</a></h3> <p>Simply provide your list of contributions as argument to the client's <code>submit_contributions</code> function to prepare and upload them to MPContribs. Duplicate checking will happen automatically if <code>unique_identifers</code> is set to <code>True</code> for the project (the default). If successful, the client will return the number of contributions submitted.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>client</span><span class=o>.</span><span class=n>submit_contributions</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>me</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div id=d5d44e65-5ac8-4bea-b5a0-7356b3e07304></div> <div class="output_subarea output_widget_view "> <script type=text/javascript>
var element = $('#d5d44e65-5ac8-4bea-b5a0-7356b3e07304');
</script> <script 0=0 2_=2, _005bfd03b91f417392591a7e58a60a52_='"005bfd03b91f417392591a7e58a60a52",' _model_id_:='"model_id":' _version_major_:='"version_major":' _version_minor_:='"version_minor":' type=application/vnd.jupyter.widget-view+json></script> </div> </div> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Your contributions should now show up on the project landing page on the MPContribs portal as well as on the according material details pages on MP :)</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=retrieve-and-query-contributions>Retrieve and query contributions<a class=headerlink href=#retrieve-and-query-contributions title="Permanent link">&para;</a></h3> <p>Choose an <code>mp-id</code> from the landing page and retrieve the IDs for its contributions. Use one of the IDs to show a pretty display of the data.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>resp</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>contributions</span><span class=o>.</span><span class=n>get_entries</span><span class=p>(</span>
    <span class=n>project</span><span class=o>=</span><span class=n>name</span><span class=p>,</span> <span class=n>identifier</span><span class=o>=</span><span class=s2>&quot;mp-6134&quot;</span><span class=p>,</span> <span class=n>_fields</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>
<span class=p>)</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
<span class=n>cids</span> <span class=o>=</span> <span class=p>[</span><span class=n>d</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>resp</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>]]</span>
<span class=n>contrib</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>get_contribution</span><span class=p>(</span><span class=n>cids</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=n>contrib</span><span class=o>.</span><span class=n>pretty</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_html rendered_html output_subarea "> <table class="table is-narrow is-fullwidth has-background-light"><tr><th>project</th><td>sandbox</td></tr><tr><th>identifier</th><td>mp-6134</td></tr><tr><th>formula</th><td>LiCaAlF6</td></tr><tr><th>is_public</th><td>True</td></tr><tr><th>last_modified</th><td>2020-07-30 01:24:49.263000</td></tr><tr><th>data</th><td><table class="table is-narrow is-fullwidth has-background-light"><tr><th>type</th><td>f4</td></tr><tr><th>Δλ</th><td><table class="table is-narrow is-fullwidth has-background-light"><tr><th>min</th><td>400.0 nm</td></tr><tr><th>max</th><td>1.0 µm</td></tr></table></td></tr><tr><th>coefficients</th><td><table class="table is-narrow is-fullwidth has-background-light"><tr><th>c0</th><td>1.92155</td></tr><tr><th>c1</th><td>0.00494</td></tr><tr><th>c2</th><td>0</td></tr><tr><th>c3</th><td>0.00617</td></tr><tr><th>c4</th><td>1</td></tr><tr><th>c5</th><td>0</td></tr><tr><th>c6</th><td>0</td></tr><tr><th>c7</th><td>0</td></tr><tr><th>c8</th><td>1</td></tr><tr><th>c9</th><td>-0.00373</td></tr><tr><th>c10</th><td>2</td></tr></table></td></tr></table></td></tr><tr><th>structures</th><td></td></tr><tr><th>tables</th><td><table class="table is-narrow is-fullwidth has-background-light"><thead><tr><th>id</th><th>name</th><th>md5</th></tr></thead><tbody><tr><td>5f2221607798578b36163216</td><td>Woods-e</td><td>30409de9efda60793528098dd33642b4</td></tr></tbody></table></td></tr><tr><th>notebook</th><td><table class="table is-narrow is-fullwidth has-background-light"><tr><th>id</th><td>5f2221617798578b36163218</td></tr></table></td></tr><tr><th>id</th><td>5f2221607798578b36163217</td></tr></table> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Grab the table ID and retrieve it as Pandas DataFrame. You can plot it interactively using Pandas integration with Plotly through the <code>plot()</code> function.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>tid</span> <span class=o>=</span> <span class=n>contrib</span><span class=p>[</span><span class=s2>&quot;tables&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>
<span class=n>client</span><span class=o>.</span><span class=n>get_table</span><span class=p>(</span><span class=n>tid</span><span class=p>)</span><span class=c1>#.plot()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped=scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style> <table border=1 class=dataframe> <thead> <tr style="text-align: right;"> <th></th> <th>n</th> </tr> <tr> <th>wl</th> <th></th> </tr> </thead> <tbody> <tr> <th>0.4</th> <td>1.3975215819099</td> </tr> <tr> <th>0.406</th> <td>1.3971648958942</td> </tr> <tr> <th>0.412</th> <td>1.3968239880086002</td> </tr> <tr> <th>0.418</th> <td>1.3964979034667</td> </tr> <tr> <th>0.424</th> <td>1.3961857588595</td> </tr> <tr> <th>...</th> <td>...</td> </tr> <tr> <th>0.976</th> <td>1.3868008648135</td> </tr> <tr> <th>0.982</th> <td>1.3867619907128999</td> </tr> <tr> <th>0.988</th> <td>1.3867234413885001</td> </tr> <tr> <th>0.994</th> <td>1.386685206585</td> </tr> <tr> <th>1.0</th> <td>1.3866472763569</td> </tr> </tbody> </table> <p>101 rows × 1 columns</p> </div> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Finally, let's build up a more complicated query to reduce the list of contributions to the ones we might be interested in.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>query</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;project&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span>
    <span class=s2>&quot;formula__contains&quot;</span><span class=p>:</span> <span class=s2>&quot;Li&quot;</span><span class=p>,</span>
    <span class=s2>&quot;data__type__contains&quot;</span><span class=p>:</span> <span class=s2>&quot;f4&quot;</span><span class=p>,</span>
    <span class=s2>&quot;data__coefficients__c1__value__gte&quot;</span><span class=p>:</span> <span class=mf>4.93e-3</span><span class=p>,</span>
    <span class=s2>&quot;_order_by&quot;</span><span class=p>:</span> <span class=s2>&quot;data__coefficients__c1__value&quot;</span><span class=p>,</span>
    <span class=s2>&quot;order&quot;</span><span class=p>:</span> <span class=s2>&quot;desc&quot;</span><span class=p>,</span>
    <span class=s2>&quot;_fields&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=s2>&quot;identifier&quot;</span><span class=p>,</span> <span class=s2>&quot;formula&quot;</span><span class=p>,</span>
        <span class=s2>&quot;data.type&quot;</span><span class=p>,</span> <span class=s2>&quot;data.coefficients.c0.value&quot;</span><span class=p>,</span>
        <span class=s2>&quot;data.coefficients.c1.value&quot;</span>
    <span class=p>]</span>
<span class=p>}</span>
<span class=n>client</span><span class=o>.</span><span class=n>contributions</span><span class=o>.</span><span class=n>get_entries</span><span class=p>(</span><span class=o>**</span><span class=n>query</span><span class=p>)</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;data&#39;: [{&#39;id&#39;: &#39;5f2221607798578b36163217&#39;,
   &#39;identifier&#39;: &#39;mp-6134&#39;,
   &#39;formula&#39;: &#39;LiCaAlF6&#39;,
   &#39;data&#39;: {&#39;type&#39;: &#39;f4&#39;,
    &#39;coefficients&#39;: {&#39;c0&#39;: {&#39;value&#39;: 1.92155}, &#39;c1&#39;: {&#39;value&#39;: 0.00494}}}}],
 &#39;has_more&#39;: False,
 &#39;total_count&#39;: 1,
 &#39;total_pages&#39;: 1}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercises_1>Exercises<a class=headerlink href=#exercises_1 title="Permanent link">&para;</a></h3> <ul> <li>check out the <code>columns</code> field in the project information</li> <li>query the <code>carrier_transport</code> or another dataset of your choice</li> <li>retrieve a table, display and plot it interactively</li> <li>if you used your own project, delete the refraction index data and start adding your own :)</li> <li>join the dedicated MPContribs <a href=https://join.slack.com/t/mpcontribs/shared_invite/zt-g83gus5e-Z4lPLg0cO3KvihYWckCbEA>Slack</a></li> </ul> </div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../06_new_systems/06%20-%20New%20Systems%20-%20filled/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Exploring New Systems" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Exploring New Systems </div> </div> </a> <a href=../../08_ml_matminer/matminer-notes/ class="md-footer__link md-footer__link--next" aria-label="Next: Machine Learning with MatMiner" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Machine Learning with MatMiner </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Built by The Materials Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["instant", "tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.76f349be.min.js></script> <script src=../../../assets/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>