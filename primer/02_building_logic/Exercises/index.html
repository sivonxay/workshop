<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lessons for the Materials Project Workshop"><link href=https://workshop.materialsproject.org/primer/02_building_logic/Exercises/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>Exercises - The Materials Project Workshop</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#546d78><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/workshop.css><link rel=stylesheet href=../../../css/ansi-colours.css><link rel=stylesheet href=../../../css/jupyter-cells.css><link rel=stylesheet href=../../../css/pandas-dataframe.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=blue-grey data-md-color-accent> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#python-primer-part-ii-exercises class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="The Materials Project Workshop" class="md-header__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Materials Project Workshop </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Exercises </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="The Materials Project Workshop" class="md-nav__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> The Materials Project Workshop </label> <div class=md-nav__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../logistics/logistics/ class=md-nav__link> Logistics </a> </li> <li class=md-nav__item> <a href=../../../people/people/ class=md-nav__link> People </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> Code of Conduct </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Primer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Primer data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Primer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../01_basic_python/0%20-%20Introduction%20and%20Jupyter%20Use/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../01_basic_python/1%20-%20Python%20Primer/ class=md-nav__link> Basic Python </a> </li> <li class=md-nav__item> <a href=../2%20-%20Python%20Primer%20-%20Part%20II/ class=md-nav__link> Advanced Python </a> </li> <li class=md-nav__item> <a href=../../03_MongoDB_part1/lessons/ class=md-nav__link> Intro to MongoDB </a> </li> <li class=md-nav__item> <a href=../../04_MongoDB_part2/lesson/ class=md-nav__link> Advanced MongoDB </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Workshop <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Workshop data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Workshop </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1> Day 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 1" data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Day 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../lessons/01_website_walkthrough/website_walkthrough/ class=md-nav__link> The Materials Project Website </a> </li> <li class=md-nav__item> <a href=../../../lessons/02_intro_pymatgen/1%20-%20pymatgen%20foundations/ class=md-nav__link> Intro to Pymatgen </a> </li> <li class=md-nav__item> <a href=../../../lessons/03_surfaces/Working%20With%20Surfaces_lesson/ class=md-nav__link> Working with Surfaces </a> </li> <li class=md-nav__item> <a href=../../../lessons/04_materials_api/api_use/ class=md-nav__link> The Materials API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Day 2 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 2" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Day 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../lessons/05_automated_dft/Lesson/ class=md-nav__link> Automated DFT </a> </li> <li class=md-nav__item> <a href=../../../lessons/06_new_systems/06%20-%20New%20Systems%20-%20filled/ class=md-nav__link> Exploring New Systems </a> </li> <li class=md-nav__item> <a href=../../../lessons/07_mpcontribs/contribute/ class=md-nav__link> MPContribs </a> </li> <li class=md-nav__item> <a href=../../../lessons/08_ml_matminer/matminer-notes/ class=md-nav__link> Machine Learning with MatMiner </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#lesson-5-conditionals class=md-nav__link> Lesson 5: Conditionals </a> <nav class=md-nav aria-label="Lesson 5: Conditionals"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exercise class=md-nav__link> Exercise: </a> </li> <li class=md-nav__item> <a href=#exercise_1 class=md-nav__link> Exercise: </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-6-sets-and-dictionaries class=md-nav__link> Lesson 6: Sets and Dictionaries </a> <nav class=md-nav aria-label="Lesson 6: Sets and Dictionaries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exercise-create-a-histogram class=md-nav__link> Exercise: create a histogram </a> </li> <li class=md-nav__item> <a href=#exercise-how-heavy-is-this-molecule class=md-nav__link> Exercise: How heavy is this molecule? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-7-writing-functions class=md-nav__link> Lesson 7: Writing Functions </a> <nav class=md-nav aria-label="Lesson 7: Writing Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exercise-find-the-first class=md-nav__link> Exercise: Find the first </a> </li> <li class=md-nav__item> <a href=#exercise-running-sum class=md-nav__link> Exercise : Running sum </a> </li> <li class=md-nav__item> <a href=#exercise-hows-your-phase-change-memory class=md-nav__link> Exercise: How's your phase-change memory? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-8-test-your-skills class=md-nav__link> Lesson 8: Test your Skills </a> <nav class=md-nav aria-label="Lesson 8: Test your Skills"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#now-its-time-to-put-your-python-skills-to-the-test class=md-nav__link> Now it's time to put your Python skills to the test! </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/materialsproject/workshop/edit/master/docs/primer/02_building_logic/Exercises.ipynb title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <script src=https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js></script> <script>
(function() {
  function addWidgetsRenderer() {
    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var scriptElement = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    scriptElement.src = widgetRendererSrc;
    document.body.appendChild(scriptElement);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h1 id=python-primer-part-ii-exercises>Python Primer Part II Exercises<a class=headerlink href=#python-primer-part-ii-exercises title="Permanent link">&para;</a></h1> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-5-conditionals>Lesson 5: Conditionals<a class=headerlink href=#lesson-5-conditionals title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise>Exercise:<a class=headerlink href=#exercise title="Permanent link">&para;</a></h3> <p>Write a Python program to convert temperatures to and from celsius, fahrenheit.</p> <p>Formula : c/5 = f-32/9 (where c = temperature in celsius and f = temperature in fahrenheit )</p> <p>Expected Output : </p> <p>60°C is 140 in Fahrenheit</p> <p>45°F is 7 in Celsius </p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># gather input from the user</span>
<span class=n>temp</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Input the  temperature you like to convert? (e.g., 45F, 102C etc.) : &quot;</span><span class=p>)</span>

<span class=c1># parse the string of input from the user</span>
<span class=n>degree</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>temp</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=n>i_convention</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

<span class=k>if</span> <span class=n>i_convention</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=o>==</span> <span class=n>__</span><span class=p>:</span>
  <span class=n>result</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>round</span><span class=p>((</span><span class=mi>9</span> <span class=o>*</span> <span class=n>degree</span><span class=p>)</span> <span class=o>/</span> <span class=mi>5</span> <span class=o>+</span> <span class=mi>32</span><span class=p>))</span>
  <span class=n>o_convention</span> <span class=o>=</span> <span class=s2>&quot;Fahrenheit&quot;</span>
<span class=k>elif</span> <span class=n>i_convention</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=o>==</span> <span class=n>__</span><span class=p>:</span>
  <span class=n>result</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>round</span><span class=p>((</span><span class=n>degree</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span> <span class=o>*</span> <span class=mi>5</span> <span class=o>/</span> <span class=mi>9</span><span class=p>))</span>
  <span class=n>o_convention</span> <span class=o>=</span> <span class=s2>&quot;Celsius&quot;</span>
<span class=k>else</span><span class=p>:</span>
  <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Input proper convention.&quot;</span><span class=p>)</span>
  <span class=n>quit</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;The temperature in&quot;</span><span class=p>,</span> <span class=n>o_convention</span><span class=p>,</span> <span class=s2>&quot;is&quot;</span><span class=p>,</span> <span class=n>result</span><span class=p>,</span> <span class=s2>&quot;degrees.&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Input the  temperature you like to convert? (e.g., 45F, 102C etc.) : 100C
The temperature in Celsius is 38 degrees.
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise_1>Exercise:<a class=headerlink href=#exercise_1 title="Permanent link">&para;</a></h3> <p>Who discovered your favorite elements?</p> <p>Let's write a simple test to see which elements were discovered by discoverer "A," discoverer "B," and both.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>os</span>
<span class=kn>from</span> <span class=nn>monty.serialization</span> <span class=kn>import</span> <span class=n>loadfn</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>data_dir</span> <span class=o>=</span> <span class=s2>&quot;./data/&quot;</span>

<span class=c1># Dictionary of elements, with those who discovered them </span>
<span class=c1># and the year they were discovered </span>
<span class=c1># (sources: https://en.wikipedia.org/wiki/Timeline_of_chemical_element_discoveries,</span>
<span class=c1>#  https://education.jlab.org/qa/discover_ele.html)</span>
<span class=n>discovery_dict</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;discoveries.json&quot;</span><span class=p>))</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.core</span> <span class=kn>import</span> <span class=n>Element</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># The discoverers we want to explore...</span>
<span class=n>discover0</span> <span class=o>=</span> <span class=s2>&quot;Berkeley&quot;</span>
<span class=c1>#discover0 = &quot;Ghiorso&quot;</span>

<span class=n>discover1</span> <span class=o>=</span> <span class=s2>&quot;Russia&quot;</span>

<span class=c1># Loop through discoverers to find which elements they discovered</span>
<span class=k>for</span> <span class=n>element_name</span> <span class=ow>in</span> <span class=n>discovery_dict</span><span class=p>:</span>

    <span class=n>names</span> <span class=o>=</span> <span class=n>discovery_dict</span><span class=p>[</span><span class=n>element_name</span><span class=p>][</span><span class=s1>&#39;discovered_by&#39;</span><span class=p>]</span>

    <span class=n>A</span><span class=p>,</span> <span class=n>B</span> <span class=o>=</span> <span class=n>__</span><span class=p>,</span> <span class=n>__</span>
    <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>names</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>discover0</span> <span class=ow>in</span> <span class=n>name</span><span class=p>:</span>
            <span class=n>A</span> <span class=o>=</span> <span class=n>__</span>

        <span class=k>if</span> <span class=n>discover1</span> <span class=ow>in</span> <span class=n>name</span><span class=p>:</span>
            <span class=n>B</span> <span class=o>=</span> <span class=n>__</span>

    <span class=k>if</span> <span class=n>__</span> <span class=ow>and</span> <span class=n>__</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;For &quot;</span><span class=p>,</span> <span class=n>element_name</span><span class=p>,</span> <span class=s2>&quot;, A and B is true!&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>__</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;For &quot;</span><span class=p>,</span> <span class=n>element_name</span><span class=p>,</span> <span class=s2>&quot;, A is true!&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>__</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;For &quot;</span><span class=p>,</span> <span class=n>element_name</span><span class=p>,</span> <span class=s2>&quot;, B is true!&quot;</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-6-sets-and-dictionaries>Lesson 6: Sets and Dictionaries<a class=headerlink href=#lesson-6-sets-and-dictionaries title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise-create-a-histogram>Exercise: create a histogram<a class=headerlink href=#exercise-create-a-histogram title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span>
<span class=n>count</span> <span class=o>=</span> <span class=p>{}</span>
<span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>numbers</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>__</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>__</span><span class=p>:</span>
        <span class=n>count</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>count</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=n>count</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span>
<span class=nb>print</span><span class=p>(</span><span class=n>count</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>{1: 5, 0: 4, 2: 3, 3: 1}
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Reminder: there are lots of useful Python libraries, especially the "standard library" that comes with Python:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Counter</span>

<span class=nb>print</span><span class=p>(</span><span class=n>Counter</span><span class=p>(</span><span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>Counter</span><span class=p>(</span><span class=n>numbers</span><span class=p>)))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Counter({1: 5, 0: 4, 2: 3, 3: 1})
{1: 5, 0: 4, 2: 3, 3: 1}
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise-how-heavy-is-this-molecule>Exercise: How heavy is this molecule?<a class=headerlink href=#exercise-how-heavy-is-this-molecule title="Permanent link">&para;</a></h3> <p>You are given two things:</p> <ol> <li>a dictionary mapping atomic symbols to atomic weights (<code>mp_workshop.data.atomic_weights</code>), and</li> <li>a list of (atomic_symbol, count) pairs for a molecule.</li> </ol> <div class=highlight><pre><span></span><code><span class=c1># Example molecules:</span>
<span class=n>methane</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;C&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span> <span class=mi>4</span><span class=p>)]</span>
<span class=n>aminothiazole</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;C&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;N&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;S&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]</span>
</code></pre></div> <p>Print that molecule's molecular weight.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>os</span>
<span class=kn>from</span> <span class=nn>monty.serialization</span> <span class=kn>import</span> <span class=n>loadfn</span>

<span class=n>data_dir</span> <span class=o>=</span> <span class=s2>&quot;./data/&quot;</span>
<span class=n>atomic_weights</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;atomic_weights.json&quot;</span><span class=p>))</span>

<span class=c1># atomic weight is 16.0423</span>
<span class=n>methane</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;C&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span> <span class=mi>4</span><span class=p>)]</span>
<span class=c1># atomic weight is 100.1421</span>
<span class=n>aminothiazole</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;C&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;H&#39;</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;N&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;S&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]</span>

<span class=c1># 2. Pick a molecule to test</span>
<span class=n>molecule</span> <span class=o>=</span> <span class=n>methane</span>

<span class=c1># 3. Do stuff to calculate `mol_weight`</span>

<span class=c1># ...</span>

<span class=c1>#print(mol_weight)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>103
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-7-writing-functions>Lesson 7: Writing Functions<a class=headerlink href=#lesson-7-writing-functions title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise-find-the-first>Exercise: Find the first<a class=headerlink href=#exercise-find-the-first title="Permanent link">&para;</a></h3> <p>Fill in the blanks to create a function that takes a list of numbers as an argument and returns the first negative value in the list. What does your function do if the list is empty?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>first_negative</span><span class=p>(</span><span class=n>values</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>____</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>____</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>____</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise-running-sum>Exercise : Running sum<a class=headerlink href=#exercise-running-sum title="Permanent link">&para;</a></h3> <p>Write a function that calculates the running sum of any number of input arguments, returning the result as a list. For example:</p> <ul> <li>running(1, 2) =&gt; [1, 3]</li> <li>running(-5, 2, 7) =&gt; [-5, -3, 4]</li> </ul> <p>What should running() return, and why?</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=exercise-hows-your-phase-change-memory>Exercise: How's your phase-change memory?<a class=headerlink href=#exercise-hows-your-phase-change-memory title="Permanent link">&para;</a></h3> <p>A chalcogenide is a chemical compound consisting of at least one chalcogen anion (commonly restricted to ‘S’, ‘Se’, or ‘Te’) and at least one more electropositive element. Generalize the <code>halide</code> function below as <code>compound_class</code>, a function that takes a crystal and function as parameters and returns whether or not the compound is of that class.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># %load code/phase_change_memory.py</span>
<span class=kn>import</span> <span class=nn>random</span>

<span class=kn>from</span> <span class=nn>pymatgen</span> <span class=kn>import</span> <span class=n>Element</span>

<span class=kn>import</span> <span class=nn>os</span>
<span class=kn>from</span> <span class=nn>monty.serialization</span> <span class=kn>import</span> <span class=n>loadfn</span>

<span class=n>data_dir</span> <span class=o>=</span> <span class=s2>&quot;./data/&quot;</span>
<span class=n>crystals</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;crystals.json&quot;</span><span class=p>))</span>


<span class=k>def</span> <span class=nf>halogen</span><span class=p>(</span><span class=n>element</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>element</span><span class=o>.</span><span class=n>is_halogen</span>


<span class=k>def</span> <span class=nf>halide</span><span class=p>(</span><span class=n>crystal</span><span class=p>):</span>
    <span class=n>elts</span> <span class=o>=</span> <span class=p>[</span><span class=n>Element</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>crystal</span><span class=p>[</span><span class=s1>&#39;elements&#39;</span><span class=p>]]</span>
    <span class=n>anion</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>elts</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=c1># sorts by electronegativity</span>
    <span class=k>return</span> <span class=n>halogen</span><span class=p>(</span><span class=n>anion</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>chalcogen</span><span class=p>(</span><span class=n>element</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>element</span><span class=o>.</span><span class=n>is_chalogen</span>


<span class=k>def</span> <span class=nf>compound_class</span><span class=p>(</span><span class=n>crystal</span><span class=p>,</span> <span class=n>predicate</span><span class=p>):</span>
    <span class=c1># Fill this in.</span>
    <span class=k>pass</span>


<span class=n>my_crystal</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>sample</span><span class=p>(</span>
    <span class=p>[</span><span class=n>c</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>crystals</span> <span class=k>if</span> <span class=n>halide</span><span class=p>(</span><span class=n>c</span><span class=p>)],</span> <span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>

<span class=nb>print</span><span class=p>(</span><span class=n>compound_class</span><span class=p>(</span><span class=n>my_crystal</span><span class=p>,</span> <span class=n>halogen</span><span class=p>)</span>
      <span class=o>==</span> <span class=n>halide</span><span class=p>(</span><span class=n>my_crystal</span><span class=p>))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>False
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-8-test-your-skills>Lesson 8: Test your Skills<a class=headerlink href=#lesson-8-test-your-skills title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=now-its-time-to-put-your-python-skills-to-the-test>Now it's time to put your Python skills to the test!<a class=headerlink href=#now-its-time-to-put-your-python-skills-to-the-test title="Permanent link">&para;</a></h3> <ul> <li>Exercise: As a materials investigator, your team has just finished running calculations for a large number of crystal structures. Now, you want to analyze the dataset by writing <strong>functions</strong> that utilize logic (in the form of <strong>conditionals</strong>) to parse through the datasets in the forms of <strong>dictionaries</strong> and <strong>lists</strong>.</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>First, load the relevant datasets</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>os</span>
<span class=kn>from</span> <span class=nn>monty.serialization</span> <span class=kn>import</span> <span class=n>loadfn</span>

<span class=n>data_dir</span> <span class=o>=</span> <span class=s2>&quot;./data/&quot;</span>

<span class=c1># Our crystal structures, in addition to useful elemental information</span>
<span class=n>crystals</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;crystals.json&quot;</span><span class=p>))</span>
<span class=n>atomic_numbers</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;atomic_numbers.json&quot;</span><span class=p>))</span>
<span class=n>atomic_weights</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;atomic_weights.json&quot;</span><span class=p>))</span>

<span class=c1># Names of elements associated with an element symbol (e.g. {&quot;Al&quot;: &quot;Aluminium&quot;})</span>
<span class=n>element_names</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;element_names.json&quot;</span><span class=p>))</span>

<span class=c1># Elemental mass fraction of Earth&#39;s crust (source: https://en.wikipedia.org/wiki/Abundances_of_the_elements_(data_page))</span>
<span class=n>mass_frac_earth_crust</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;mass_frac_earth_crust.json&quot;</span><span class=p>))</span>

<span class=c1># Dictionary of elements, with those who discovered them </span>
<span class=c1># and the year they were discovered </span>
<span class=c1># (sources: https://en.wikipedia.org/wiki/Timeline_of_chemical_element_discoveries,</span>
<span class=c1>#  https://education.jlab.org/qa/discover_ele.html)</span>
<span class=n>discovery_dict</span> <span class=o>=</span> <span class=n>loadfn</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;discoveries.json&quot;</span><span class=p>))</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We have the mapping from <code>symbol</code> <span class=arithmatex>\(\rightarrow\)</span> <code>name</code>, now let's obtain <code>name</code> <span class=arithmatex>\(\rightarrow\)</span> <code>symbol</code> (we'll need it later)</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>element_names</span><span class=p>[</span><span class=s2>&quot;Ag&quot;</span><span class=p>])</span>

<span class=n>element_symbols</span> <span class=o>=</span> <span class=p>{</span><span class=n>__</span><span class=p>:</span><span class=n>__</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>element_names</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>

<span class=nb>print</span><span class=p>(</span><span class=n>element_symbols</span><span class=p>[</span><span class=s2>&quot;Silver&quot;</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Silver
Ag
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Next, we'll choose the set of elements that we would like to start with. Each element has a unique story associated with it. We can explore these stories with the information from the element discovery timeline.</p> <p><strong>Our task:</strong> Build a function that takes a list of element symbols as input. In addition, if we want to add the elements associated with a particular materials discoverer, we can include some <em>regex</em> (or "regular expression") strings corresponding to the discoverers we would like to feature.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.core</span> <span class=kn>import</span> <span class=n>Element</span><span class=p>,</span> <span class=n>Composition</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>my_element_discoverer</span><span class=p>(</span><span class=n>elements</span><span class=p>:</span><span class=nb>list</span><span class=o>=</span><span class=p>[],</span> <span class=n>discoverers</span><span class=p>:</span><span class=nb>list</span><span class=o>=</span><span class=p>[],</span> <span class=n>prior_to</span><span class=p>:</span><span class=nb>int</span><span class=o>=</span><span class=mi>2020</span><span class=p>):</span>

    <span class=c1># Start with elements provided by user </span>
    <span class=c1># (use copy() to not modify list passed to function)</span>
    <span class=n>all_elements</span> <span class=o>=</span> <span class=n>elements</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>

    <span class=c1># Loop through discoverers to find which elements they discovered</span>
    <span class=c1># and then add them to your list</span>
    <span class=k>for</span> <span class=n>discoverer</span> <span class=ow>in</span> <span class=n>discoverers</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>element_name</span> <span class=ow>in</span> <span class=n>discovery_dict</span><span class=p>:</span>

            <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>discovery_dict</span><span class=p>[</span><span class=n>__</span><span class=p>][</span><span class=s1>&#39;discovered_by&#39;</span><span class=p>]:</span>
                <span class=k>if</span> <span class=n>discoverer</span> <span class=ow>in</span> <span class=n>__</span><span class=p>:</span>
                    <span class=n>elem</span> <span class=o>=</span> <span class=n>Element</span><span class=p>(</span><span class=n>element_symbols</span><span class=p>[</span><span class=n>element_name</span><span class=p>])</span>
                    <span class=n>all_elements</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>__</span><span class=p>)</span>

    <span class=c1># Create a new list that will contain only the elements discovered </span>
    <span class=c1># before the year you provide</span>
    <span class=n>elements_pruned</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>for</span> <span class=n>elem</span> <span class=ow>in</span> <span class=n>all_elements</span><span class=p>:</span>
        <span class=n>element_name</span> <span class=o>=</span> <span class=n>element_names</span><span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>elem</span><span class=p>)]</span>
        <span class=k>if</span> <span class=n>discovery_dict</span><span class=p>[</span><span class=n>element_name</span><span class=p>][</span><span class=n>__</span><span class=p>]</span> <span class=o>!=</span> <span class=s1>&#39;?&#39;</span><span class=p>:</span>
            <span class=n>year_discovered</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>discovery_dict</span><span class=p>[</span><span class=n>element_name</span><span class=p>][</span><span class=s1>&#39;year&#39;</span><span class=p>])</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1># Unknown discovery date (known since ancient times)  </span>
            <span class=n>year_discovered</span> <span class=o>=</span> <span class=o>-</span><span class=mi>2000</span>

        <span class=c1># If statement if &quot;year_discovered&quot; is less than &quot;prior_to&quot;</span>
        <span class=k>if</span> <span class=n>__</span><span class=p>:</span>
            <span class=n>elem</span> <span class=o>=</span> <span class=n>Element</span><span class=p>(</span><span class=n>elem</span><span class=p>)</span>
            <span class=n>elements_pruned</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>elem</span><span class=p>)</span>

    <span class=n>all_elements</span> <span class=o>=</span> <span class=n>elements_pruned</span>

    <span class=c1># Use set() to convert your list into a unique set</span>
    <span class=c1># then recast as a list()</span>
    <span class=n>all_elements</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>all_elements</span><span class=p>))</span>

    <span class=k>return</span> <span class=n>all_elements</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Let's test out our function! Say we want to use oxygen in addition to elements discovered by scientists with Curie in their name (Marie and Pierre), as well as elements discovered by scientists in Berkeley</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>my_elements</span> <span class=o>=</span> <span class=n>my_element_discoverer</span><span class=p>(</span><span class=n>elements</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;O&quot;</span><span class=p>],</span> 
                                    <span class=n>discoverers</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;Curie&quot;</span><span class=p>,</span> <span class=s2>&quot;Lawrence Berkeley&quot;</span><span class=p>],</span> 
                                    <span class=n>prior_to</span><span class=o>=</span><span class=mi>2020</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>my_elements</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Can you spot which elements are missing?</p> <p>(Hint below)</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># Discovered by scientists at UC Berkeley</span>
<span class=n>my_elements</span> <span class=o>=</span> <span class=n>my_element_discoverer</span><span class=p>(</span><span class=n>discoverers</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;Ghiorso&quot;</span><span class=p>],</span> 
                                    <span class=n>prior_to</span><span class=o>=</span><span class=mi>2020</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>my_elements</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Platinum was found in gold alloys in present day Columbia dating as far back as 800 BC</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>my_elements</span> <span class=o>=</span> <span class=n>my_element_discoverer</span><span class=p>(</span><span class=n>elements</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;Ni&quot;</span><span class=p>],</span> 
                                    <span class=n>discoverers</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;Indigenous People of South America&quot;</span><span class=p>],</span> 
                                    <span class=n>prior_to</span><span class=o>=</span><span class=mi>1800</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>my_elements</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Next, our goal is to find all of the crystals that contain the elements in our list. </p> <p>Once we obtain this list, it is often useful to sort these materials based on a particular metric, depending on which properties that we would like to assess. The two criteria we will use in this study are the molar mass and abundance:</p> <ul> <li>Molar mass = <span class=arithmatex>\(\sum_{i=1}^N x_i n_i\)</span>, where <span class=arithmatex>\(n_i\)</span> is the elemental molar mass, and <span class=arithmatex>\(x_i\)</span> is the molar fraction</li> <li>Abundance metric = <span class=arithmatex>\(\prod_{i=1}^N a_i^{y_i}\)</span>, where <span class=arithmatex>\(a_i\)</span> is the mass abundance of the element <span class=arithmatex>\(i\)</span>, and <span class=arithmatex>\(y_i\)</span> is the mass fraction in the material</li> </ul> <p><img src=figures/element_abundance.png width=512 height=512></p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>compute_molar_weight</span><span class=p>(</span><span class=n>crystal</span><span class=p>):</span>
    <span class=c1># Obtain atomic fractions of material</span>
    <span class=n>comp</span> <span class=o>=</span> <span class=n>Composition</span><span class=p>(</span><span class=n>crystal</span><span class=p>[</span><span class=s2>&quot;pretty_formula&quot;</span><span class=p>])</span>                                                                                          
    <span class=n>atomic_fractions</span> <span class=o>=</span> <span class=p>[</span><span class=n>comp</span><span class=o>.</span><span class=n>get_atomic_fraction</span><span class=p>(</span><span class=n>Element</span><span class=p>(</span><span class=n>elem</span><span class=p>))</span> <span class=k>for</span> <span class=n>elem</span> <span class=ow>in</span> <span class=n>crystal</span><span class=p>[</span><span class=s1>&#39;elements&#39;</span><span class=p>]]</span>

    <span class=c1># Obtain atomic weights of elements in material</span>
    <span class=n>weights</span> <span class=o>=</span> <span class=p>[</span><span class=n>atomic_weights</span><span class=p>[</span><span class=n>__</span><span class=p>]</span> <span class=k>for</span> <span class=n>elem</span> <span class=ow>in</span> <span class=n>crystal</span><span class=p>[</span><span class=s1>&#39;elements&#39;</span><span class=p>]]</span>

    <span class=c1># Compute molar weight of material (weighted mean)</span>
    <span class=n>molar_weight</span> <span class=o>=</span> <span class=mf>0.0</span>
    <span class=k>for</span> <span class=n>elem</span><span class=p>,</span><span class=n>frac</span><span class=p>,</span><span class=n>weight</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>crystal</span><span class=p>[</span><span class=n>__</span><span class=p>],</span> <span class=n>atomic_fractions</span><span class=p>,</span> <span class=n>__</span><span class=p>):</span>
        <span class=n>molar_weight</span> <span class=o>+=</span> <span class=n>__</span><span class=o>*</span><span class=n>weight</span>

    <span class=k>return</span> <span class=n>molar_weight</span>

<span class=k>def</span> <span class=nf>compute_abundance_metric</span><span class=p>(</span><span class=n>crystal</span><span class=p>):</span>
    <span class=c1># Obtain mass fractions of material</span>
    <span class=n>comp</span> <span class=o>=</span> <span class=n>Composition</span><span class=p>(</span><span class=n>crystal</span><span class=p>[</span><span class=s2>&quot;pretty_formula&quot;</span><span class=p>])</span>                                                                                          
    <span class=n>molar_weight</span> <span class=o>=</span> <span class=n>compute_molar_weight</span><span class=p>(</span><span class=n>crystal</span><span class=p>)</span>
    <span class=n>mass_fractions</span> <span class=o>=</span> <span class=p>[</span><span class=n>comp</span><span class=o>.</span><span class=n>get_atomic_fraction</span><span class=p>(</span><span class=n>Element</span><span class=p>(</span><span class=n>elem</span><span class=p>))</span><span class=o>*</span><span class=p>(</span><span class=n>atomic_weights</span><span class=p>[</span><span class=n>elem</span><span class=p>]</span><span class=o>/</span><span class=n>molar_weight</span><span class=p>)</span> 
                      <span class=k>for</span> <span class=n>elem</span> <span class=ow>in</span> <span class=n>crystal</span><span class=p>[</span><span class=s1>&#39;elements&#39;</span><span class=p>]]</span>

    <span class=c1># Obtain atomic abundances of elements in material</span>
    <span class=n>abundances</span> <span class=o>=</span> <span class=p>[</span><span class=n>mass_frac_earth_crust</span><span class=p>[</span><span class=n>elem</span><span class=p>]</span> <span class=k>for</span> <span class=n>__</span> <span class=ow>in</span> <span class=n>crystal</span><span class=p>[</span><span class=s1>&#39;elements&#39;</span><span class=p>]]</span>

    <span class=c1># Compute abundance metric (geometric mean)</span>
    <span class=n>abundance_metric</span> <span class=o>=</span> <span class=mf>1.0</span>
    <span class=k>for</span> <span class=n>elem</span><span class=p>,</span><span class=n>frac</span><span class=p>,</span><span class=n>abundance</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>crystal</span><span class=p>[</span><span class=s2>&quot;elements&quot;</span><span class=p>],</span> <span class=n>__</span><span class=p>,</span> <span class=n>abundances</span><span class=p>):</span>
        <span class=n>abundance_metric</span> <span class=o>*=</span> <span class=p>(</span><span class=n>abundance</span><span class=p>)</span><span class=o>**</span><span class=n>frac</span>
    <span class=n>abundance_metric</span> <span class=o>*=</span> <span class=mi>100</span>

    <span class=k>return</span> <span class=n>abundance_metric</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>crystal</span> <span class=o>=</span> <span class=n>crystals</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Material:&quot;</span><span class=p>,</span> <span class=n>crystal</span><span class=p>[</span><span class=s2>&quot;pretty_formula&quot;</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Molar weight (g / mol / # atoms per formula unit) = &quot;</span><span class=p>,</span> <span class=n>compute_molar_weight</span><span class=p>(</span><span class=n>crystal</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Abundance metric (% kg/kg) = &quot;</span><span class=p>,</span> <span class=n>compute_abundance_metric</span><span class=p>(</span><span class=n>crystal</span><span class=p>))</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now that we have our sorting metrics, let's find the materials in our dataset that contain the elements we have provided, and sort them based on the criteria above.</p> <p>A helpful relation: For finite sets <span class=arithmatex>\(A\)</span> and <span class=arithmatex>\(B\)</span>, <span class=arithmatex>\(B \subseteq A\)</span> if and only if <span class=arithmatex>\(B = A \cap B\)</span></p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>get_crystals_from_elements</span><span class=p>(</span><span class=n>elements</span><span class=p>:</span><span class=nb>list</span><span class=p>,</span> <span class=n>crystals</span><span class=p>:</span><span class=nb>list</span><span class=p>,</span> <span class=n>sort_scheme</span><span class=p>:</span><span class=nb>int</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>

    <span class=n>crystals_matched</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>crystal</span> <span class=ow>in</span> <span class=n>crystals</span><span class=p>:</span>

        <span class=n>crystal_elems</span> <span class=o>=</span> <span class=p>[</span><span class=n>Element</span><span class=p>(</span><span class=n>elem</span><span class=p>)</span> <span class=k>for</span> <span class=n>elem</span> <span class=ow>in</span> <span class=n>crystal</span><span class=p>[</span><span class=s1>&#39;elements&#39;</span><span class=p>]]</span>

        <span class=c1># We can check if the material contains the elements that we have provided </span>
        <span class=c1># (set B in A) by checking if B = intersection(A,B)</span>
        <span class=c1># Hint: &quot;&amp;&quot; operator is used for intersection of two sets, </span>
        <span class=c1>#.      and &quot;|&quot; for union</span>
        <span class=n>intersection</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>elements</span><span class=p>)</span> <span class=n>__</span> <span class=nb>set</span><span class=p>(</span><span class=n>crystal_elems</span><span class=p>)</span>
        <span class=k>if</span> <span class=nb>set</span><span class=p>(</span><span class=n>elements</span><span class=p>)</span> <span class=o>==</span> <span class=n>intersection</span><span class=p>:</span>
            <span class=n>crystals_matched</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>crystal</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>sort_scheme</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=c1># Sort by molar weight</span>
        <span class=n>sort_key</span> <span class=o>=</span> <span class=s2>&quot;Molar weight (g / mol / # atoms per formula unit)&quot;</span>
        <span class=n>sortable_values</span> <span class=o>=</span> <span class=p>[</span><span class=n>compute_molar_weight</span><span class=p>(</span><span class=n>__</span><span class=p>)</span> <span class=k>for</span> <span class=n>crystal</span> <span class=ow>in</span> <span class=n>crystals_matched</span><span class=p>]</span>
    <span class=k>elif</span> <span class=n>sort_scheme</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
        <span class=c1># Sort by abundance metric</span>
        <span class=n>sort_key</span> <span class=o>=</span> <span class=s2>&quot;Abundance metric (% kg/kg)&quot;</span>
        <span class=n>sortable_values</span> <span class=o>=</span> <span class=p>[</span><span class=n>compute_abundance_metric</span><span class=p>(</span><span class=n>__</span><span class=p>)</span> <span class=k>for</span> <span class=n>crystal</span> <span class=ow>in</span> <span class=n>crystals_matched</span><span class=p>]</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># Catch all case - no sorting provided</span>
        <span class=n>sortable_values</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Warning: Invalid sort scheme!&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=p>[],</span> <span class=p>[],</span> <span class=s2>&quot;&quot;</span>

    <span class=k>if</span> <span class=n>sortable_values</span><span class=p>:</span>
        <span class=c1>#print(sortable_values)</span>

        <span class=c1># Sort crystals based on sorting metric (reverse to descending order)</span>
        <span class=n>value_map</span> <span class=o>=</span> <span class=p>[{</span><span class=s2>&quot;value&quot;</span><span class=p>:</span><span class=n>__</span><span class=p>,</span> <span class=s2>&quot;crystal&quot;</span><span class=p>:</span><span class=n>__</span><span class=p>}</span> <span class=k>for</span> <span class=n>v</span><span class=p>,</span><span class=n>c</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>sortable_values</span><span class=p>,</span> <span class=n>crystals_matched</span><span class=p>)]</span>
        <span class=n>value_map</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>value_map</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=n>__</span><span class=p>],</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>        
        <span class=c1>#sortable_values, crystals_matched = zip(*sorted(zip(sortable_values, crystals_matched), reverse=True))</span>

        <span class=c1># Extract desired values after sorting</span>
        <span class=n>sortable_values</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=p>[</span><span class=n>__</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>value_map</span><span class=p>]</span>
        <span class=n>crystals_matched</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=p>[</span><span class=n>__</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>value_map</span><span class=p>]</span>

        <span class=c1>#print(sortable_values)</span>

    <span class=k>return</span> <span class=n>crystals_matched</span><span class=p>,</span> <span class=n>sortable_values</span><span class=p>,</span> <span class=n>sort_key</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We've built our functions! Now let's test them to search the materials in our dataset</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># The elements we would like to search our dataset</span>
<span class=n>elements</span> <span class=o>=</span> <span class=p>[</span><span class=n>Element</span><span class=p>(</span><span class=n>elem</span><span class=p>)</span> <span class=k>for</span> <span class=n>elem</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;Ca&#39;</span><span class=p>,</span> <span class=s1>&#39;O&#39;</span><span class=p>]]</span>

<span class=c1># Testing our function</span>
<span class=n>crystals_matched</span><span class=p>,</span> <span class=n>sorted_values</span><span class=p>,</span> <span class=n>sort_key</span> <span class=o>=</span> <span class=n>get_crystals_from_elements</span><span class=p>(</span><span class=n>elements</span><span class=p>,</span> <span class=n>crystals</span><span class=p>,</span> 
                                                                       <span class=n>sort_scheme</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>

<span class=c1># The formulas of the crystals that we searched for</span>
<span class=n>formulas</span> <span class=o>=</span> <span class=p>[</span><span class=n>crystal</span><span class=p>[</span><span class=n>__</span><span class=p>]</span> <span class=k>for</span> <span class=n>crystal</span> <span class=ow>in</span> <span class=n>crystals_matched</span><span class=p>]</span>

<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Number of crystals found: &quot;</span><span class=p>,</span> <span class=n>__</span><span class=p>(</span><span class=n>crystals_matched</span><span class=p>))</span>
<span class=c1># print(formulas)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>For a large number of materials, we often gain the most information by perfoming an analysis of how the sorting criteria is distributed. In this case, we can create a histogram of the data using the <code>matplotlib</code> package. </p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>

<span class=n>number_of_bins</span> <span class=o>=</span> <span class=mi>20</span>
<span class=n>plt</span><span class=o>.</span><span class=n>hist</span><span class=p>(</span><span class=n>sorted_values</span><span class=p>,</span> <span class=n>number_of_bins</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;Counts&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=n>sort_key</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Built by The Materials Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["instant", "tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.76f349be.min.js></script> <script src=../../../assets/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>