<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lessons for the Materials Project Workshop"><link href=https://workshop.materialsproject.org/primer/04_MongoDB_part2/lesson/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>Advanced MongoDB - The Materials Project Workshop</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#546d78><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/workshop.css><link rel=stylesheet href=../../../css/ansi-colours.css><link rel=stylesheet href=../../../css/jupyter-cells.css><link rel=stylesheet href=../../../css/pandas-dataframe.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=blue-grey data-md-color-accent> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mongodb-part-2 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="The Materials Project Workshop" class="md-header__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Materials Project Workshop </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Advanced MongoDB </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="The Materials Project Workshop" class="md-nav__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> The Materials Project Workshop </label> <div class=md-nav__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../logistics/logistics/ class=md-nav__link> Logistics </a> </li> <li class=md-nav__item> <a href=../../../people/people/ class=md-nav__link> People </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> Code of Conduct </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Primer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Primer data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Primer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../01_basic_python/0%20-%20Introduction%20and%20Jupyter%20Use/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../01_basic_python/1%20-%20Python%20Primer/ class=md-nav__link> Basic Python </a> </li> <li class=md-nav__item> <a href=../../02_building_logic/2%20-%20Python%20Primer%20-%20Part%20II/ class=md-nav__link> Advanced Python </a> </li> <li class=md-nav__item> <a href=../../03_MongoDB_part1/lessons/ class=md-nav__link> Intro to MongoDB </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Advanced MongoDB <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Advanced MongoDB </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-working-with-distinct-values-elemmatch-and-regex class=md-nav__link> 1: Working with Distinct Values, $elemMatch, and Regex </a> <nav class=md-nav aria-label="1: Working with Distinct Values, $elemMatch, and Regex"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#an-exceptional-laureate class=md-nav__link> An exceptional laureate </a> </li> <li class=md-nav__item> <a href=#using-distinct class=md-nav__link> Using .distinct() </a> </li> <li class=md-nav__item> <a href=#all-prize-categories-vs-those-with-multi-winners class=md-nav__link> All prize categories vs those with multi-winners </a> </li> <li class=md-nav__item> <a href=#distinct-example-born-here-went-there class=md-nav__link> Distinct example: Born here, went there </a> </li> <li class=md-nav__item> <a href=#enter-elemmatch class=md-nav__link> Enter $elemMatch </a> </li> <li class=md-nav__item> <a href=#elemmatch-example-sharing-in-physics-after-world-war-ii class=md-nav__link> $elemMatch example: Sharing in physics after World War II </a> </li> <li class=md-nav__item> <a href=#finding-a-substring-with-regex class=md-nav__link> Finding a substring with $regex </a> </li> <li class=md-nav__item> <a href=#beginning-and-ending class=md-nav__link> Beginning and ending </a> </li> <li class=md-nav__item> <a href=#regex-example-glenn-george-and-others-in-the-gs-crew class=md-nav__link> Regex example: Glenn, George, and others in the G.S. crew </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-projection-and-sorting class=md-nav__link> 2: Projection and Sorting </a> <nav class=md-nav aria-label="2: Projection and Sorting"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-projection class=md-nav__link> What is "projection"? </a> </li> <li class=md-nav__item> <a href=#projection-in-mongodb class=md-nav__link> Projection in MongoDB </a> </li> <li class=md-nav__item> <a href=#missing-fields class=md-nav__link> Missing fields </a> </li> <li class=md-nav__item> <a href=#projection-example-shares-of-the-1963-prize-in-physics class=md-nav__link> Projection example: Shares of the 1963 prize in physics </a> </li> <li class=md-nav__item> <a href=#sorting-post-query-with-python class=md-nav__link> Sorting post-query with Python </a> </li> <li class=md-nav__item> <a href=#sorting-in-query-with-mongodb class=md-nav__link> Sorting in-query with MongoDB </a> </li> <li class=md-nav__item> <a href=#primary-and-secondary-sorting class=md-nav__link> Primary and secondary sorting </a> </li> <li class=md-nav__item> <a href=#sorting-example-what-the-sort class=md-nav__link> Sorting example: What the sort? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-indexing class=md-nav__link> 3: Indexing </a> <nav class=md-nav aria-label="3: Indexing"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-indexes class=md-nav__link> What are indexes? </a> </li> <li class=md-nav__item> <a href=#when-to-use-indexes class=md-nav__link> When to use indexes? </a> </li> <li class=md-nav__item> <a href=#getting-index-information class=md-nav__link> Getting index information </a> </li> <li class=md-nav__item> <a href=#gauging-performance-before-indexing class=md-nav__link> Gauging performance before indexing </a> </li> <li class=md-nav__item> <a href=#adding-a-single-field-index class=md-nav__link> Adding a single-field index </a> </li> <li class=md-nav__item> <a href=#adding-a-compound-multiple-field-index class=md-nav__link> Adding a compound (multiple-field) index </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Workshop <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Workshop data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Workshop </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1> Day 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 1" data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Day 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../lessons/01_website_walkthrough/website_walkthrough/ class=md-nav__link> The Materials Project Website </a> </li> <li class=md-nav__item> <a href=../../../lessons/02_intro_pymatgen/1%20-%20pymatgen%20foundations/ class=md-nav__link> Intro to Pymatgen </a> </li> <li class=md-nav__item> <a href=../../../lessons/03_surfaces/Working%20With%20Surfaces_lesson/ class=md-nav__link> Working with Surfaces </a> </li> <li class=md-nav__item> <a href=../../../lessons/04_materials_api/api_use/ class=md-nav__link> The Materials API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Day 2 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 2" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Day 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../lessons/05_automated_dft/Lesson/ class=md-nav__link> Automated DFT </a> </li> <li class=md-nav__item> <a href=../../../lessons/06_new_systems/06%20-%20New%20Systems%20-%20filled/ class=md-nav__link> Exploring New Systems </a> </li> <li class=md-nav__item> <a href=../../../lessons/07_mpcontribs/contribute/ class=md-nav__link> MPContribs </a> </li> <li class=md-nav__item> <a href=../../../lessons/08_ml_matminer/matminer-notes/ class=md-nav__link> Machine Learning with MatMiner </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-working-with-distinct-values-elemmatch-and-regex class=md-nav__link> 1: Working with Distinct Values, $elemMatch, and Regex </a> <nav class=md-nav aria-label="1: Working with Distinct Values, $elemMatch, and Regex"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#an-exceptional-laureate class=md-nav__link> An exceptional laureate </a> </li> <li class=md-nav__item> <a href=#using-distinct class=md-nav__link> Using .distinct() </a> </li> <li class=md-nav__item> <a href=#all-prize-categories-vs-those-with-multi-winners class=md-nav__link> All prize categories vs those with multi-winners </a> </li> <li class=md-nav__item> <a href=#distinct-example-born-here-went-there class=md-nav__link> Distinct example: Born here, went there </a> </li> <li class=md-nav__item> <a href=#enter-elemmatch class=md-nav__link> Enter $elemMatch </a> </li> <li class=md-nav__item> <a href=#elemmatch-example-sharing-in-physics-after-world-war-ii class=md-nav__link> $elemMatch example: Sharing in physics after World War II </a> </li> <li class=md-nav__item> <a href=#finding-a-substring-with-regex class=md-nav__link> Finding a substring with $regex </a> </li> <li class=md-nav__item> <a href=#beginning-and-ending class=md-nav__link> Beginning and ending </a> </li> <li class=md-nav__item> <a href=#regex-example-glenn-george-and-others-in-the-gs-crew class=md-nav__link> Regex example: Glenn, George, and others in the G.S. crew </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-projection-and-sorting class=md-nav__link> 2: Projection and Sorting </a> <nav class=md-nav aria-label="2: Projection and Sorting"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-projection class=md-nav__link> What is "projection"? </a> </li> <li class=md-nav__item> <a href=#projection-in-mongodb class=md-nav__link> Projection in MongoDB </a> </li> <li class=md-nav__item> <a href=#missing-fields class=md-nav__link> Missing fields </a> </li> <li class=md-nav__item> <a href=#projection-example-shares-of-the-1963-prize-in-physics class=md-nav__link> Projection example: Shares of the 1963 prize in physics </a> </li> <li class=md-nav__item> <a href=#sorting-post-query-with-python class=md-nav__link> Sorting post-query with Python </a> </li> <li class=md-nav__item> <a href=#sorting-in-query-with-mongodb class=md-nav__link> Sorting in-query with MongoDB </a> </li> <li class=md-nav__item> <a href=#primary-and-secondary-sorting class=md-nav__link> Primary and secondary sorting </a> </li> <li class=md-nav__item> <a href=#sorting-example-what-the-sort class=md-nav__link> Sorting example: What the sort? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-indexing class=md-nav__link> 3: Indexing </a> <nav class=md-nav aria-label="3: Indexing"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-indexes class=md-nav__link> What are indexes? </a> </li> <li class=md-nav__item> <a href=#when-to-use-indexes class=md-nav__link> When to use indexes? </a> </li> <li class=md-nav__item> <a href=#getting-index-information class=md-nav__link> Getting index information </a> </li> <li class=md-nav__item> <a href=#gauging-performance-before-indexing class=md-nav__link> Gauging performance before indexing </a> </li> <li class=md-nav__item> <a href=#adding-a-single-field-index class=md-nav__link> Adding a single-field index </a> </li> <li class=md-nav__item> <a href=#adding-a-compound-multiple-field-index class=md-nav__link> Adding a compound (multiple-field) index </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/materialsproject/workshop/edit/master/docs/primer/04_MongoDB_part2/lesson.ipynb title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <script src=https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js></script> <script>
(function() {
  function addWidgetsRenderer() {
    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var scriptElement = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    scriptElement.src = widgetRendererSrc;
    document.body.appendChild(scriptElement);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h1 id=mongodb-part-2>MongoDB Part 2<a class=headerlink href=#mongodb-part-2 title="Permanent link">&para;</a></h1> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=1-working-with-distinct-values-elemmatch-and-regex>1: Working with Distinct Values, $elemMatch, and Regex<a class=headerlink href=#1-working-with-distinct-values-elemmatch-and-regex title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=an-exceptional-laureate>An exceptional laureate<a class=headerlink href=#an-exceptional-laureate title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymongo</span> <span class=kn>import</span> <span class=n>MongoClient</span>

<span class=n>client</span> <span class=o>=</span> <span class=n>MongoClient</span><span class=p>()</span>
<span class=n>db</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>nobel</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find_one</span><span class=p>({</span><span class=s2>&quot;prizes.2&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$exists&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;_id&#39;: ObjectId(&#39;5f1f4e418defad6d9f1cd070&#39;),
 &#39;id&#39;: &#39;482&#39;,
 &#39;firstname&#39;: &#39;International Committee of the Red Cross&#39;,
 &#39;born&#39;: &#39;1863-00-00&#39;,
 &#39;died&#39;: &#39;0000-00-00&#39;,
 &#39;gender&#39;: &#39;org&#39;,
 &#39;prizes&#39;: [{&#39;year&#39;: &#39;1917&#39;,
   &#39;category&#39;: &#39;peace&#39;,
   &#39;share&#39;: &#39;1&#39;,
   &#39;motivation&#39;: &#39;&#34;for the efforts to take care of wounded soldiers and prisoners of war and their families&#34;&#39;,
   &#39;affiliations&#39;: [[]]},
  {&#39;year&#39;: &#39;1944&#39;,
   &#39;category&#39;: &#39;peace&#39;,
   &#39;share&#39;: &#39;1&#39;,
   &#39;motivation&#39;: &#39;&#34;for the great work it has performed during the war on behalf of humanity&#34;&#39;,
   &#39;affiliations&#39;: [[]]},
  {&#39;year&#39;: &#39;1963&#39;,
   &#39;category&#39;: &#39;peace&#39;,
   &#39;share&#39;: &#39;2&#39;,
   &#39;motivation&#39;: &#39;&#34;for promoting the principles of the Geneva Convention and cooperation with the UN&#34;&#39;,
   &#39;affiliations&#39;: [[]]}]}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=using-distinct>Using .distinct()<a class=headerlink href=#using-distinct title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span><span class=s2>&quot;gender&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;female&#39;, &#39;male&#39;, &#39;org&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <ul> <li>A convenience method for a common aggregation (like <code>count_documents</code>)</li> <li>We will not cover custom aggregations in this lesson, but the <code>aggregate</code> method is powerful.</li> <li><code>distinct</code> aggregation is efficient if there is a collection <em>index</em> on the field</li> <li>We will learn how to create an index later in this lesson</li> <li>No index needed here: collection fits in memory, has ≲ 1,000 documents</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=all-prize-categories-vs-those-with-multi-winners>All prize categories vs those with multi-winners<a class=headerlink href=#all-prize-categories-vs-those-with-multi-winners title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span><span class=s2>&quot;prizes.category&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;chemistry&#39;, &#39;economics&#39;, &#39;literature&#39;, &#39;medicine&#39;, &#39;peace&#39;, &#39;physics&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span><span class=s2>&quot;prizes.category&quot;</span><span class=p>,{</span><span class=s2>&quot;prizes.1&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$exists&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;chemistry&#39;, &#39;peace&#39;, &#39;physics&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=distinct-example-born-here-went-there>Distinct example: Born here, went there<a class=headerlink href=#distinct-example-born-here-went-there title="Permanent link">&para;</a></h3> <p>In which countries have USA-born laureates had affiliations for their prizes?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span><span class=s2>&quot;prizes.affiliations.country&quot;</span><span class=p>,{</span><span class=s2>&quot;bornCountry&quot;</span><span class=p>:</span><span class=s2>&quot;USA&quot;</span><span class=p>})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;Australia&#39;, &#39;Denmark&#39;, &#39;USA&#39;, &#39;United Kingdom&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=enter-elemmatch>Enter $elemMatch<a class=headerlink href=#enter-elemmatch title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>count_documents</span><span class=p>({</span>
    <span class=s2>&quot;prizes&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span>
        <span class=s2>&quot;share&quot;</span><span class=p>:</span> <span class=s2>&quot;1&quot;</span>
    <span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>0</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Why is the above number zero?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>count_documents</span><span class=p>({</span>
    <span class=s2>&quot;prizes.category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span>
    <span class=s2>&quot;prizes.share&quot;</span><span class=p>:</span> <span class=s2>&quot;1&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>48</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>count_documents</span><span class=p>({</span>
    <span class=s2>&quot;prizes&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=s2>&quot;$elemMatch&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span>
            <span class=s2>&quot;share&quot;</span><span class=p>:</span> <span class=s2>&quot;1&quot;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>47</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Why are these numbers different?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find_one</span><span class=p>({</span><span class=s2>&quot;firstname&quot;</span><span class=p>:</span> <span class=s2>&quot;Marie&quot;</span><span class=p>})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;_id&#39;: ObjectId(&#39;5f1f4e418defad6d9f1cce9a&#39;),
 &#39;id&#39;: &#39;6&#39;,
 &#39;firstname&#39;: &#39;Marie&#39;,
 &#39;surname&#39;: &#39;Curie&#39;,
 &#39;born&#39;: &#39;1867-11-07&#39;,
 &#39;died&#39;: &#39;1934-07-04&#39;,
 &#39;bornCountry&#39;: &#39;Russian Empire (now Poland)&#39;,
 &#39;bornCountryCode&#39;: &#39;PL&#39;,
 &#39;bornCity&#39;: &#39;Warsaw&#39;,
 &#39;diedCountry&#39;: &#39;France&#39;,
 &#39;diedCountryCode&#39;: &#39;FR&#39;,
 &#39;diedCity&#39;: &#39;Sallanches&#39;,
 &#39;gender&#39;: &#39;female&#39;,
 &#39;prizes&#39;: [{&#39;year&#39;: &#39;1903&#39;,
   &#39;category&#39;: &#39;physics&#39;,
   &#39;share&#39;: &#39;4&#39;,
   &#39;motivation&#39;: &#39;&#34;in recognition of the extraordinary services they have rendered by their joint researches on the radiation phenomena discovered by Professor Henri Becquerel&#34;&#39;,
   &#39;affiliations&#39;: [[]]},
  {&#39;year&#39;: &#39;1911&#39;,
   &#39;category&#39;: &#39;chemistry&#39;,
   &#39;share&#39;: &#39;1&#39;,
   &#39;motivation&#39;: &#39;&#34;in recognition of her services to the advancement of chemistry by the discovery of the elements radium and polonium, by the isolation of radium and the study of the nature and compounds of this remarkable element&#34;&#39;,
   &#39;affiliations&#39;: [{&#39;name&#39;: &#39;Sorbonne University&#39;,
     &#39;city&#39;: &#39;Paris&#39;,
     &#39;country&#39;: &#39;France&#39;}]}]}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=elemmatch-example-sharing-in-physics-after-world-war-ii>$elemMatch example: Sharing in physics after World War II<a class=headerlink href=#elemmatch-example-sharing-in-physics-after-world-war-ii title="Permanent link">&para;</a></h3> <p>What is the approximate ratio of the number of laureates who won an <em>unshared</em>, i.e.</p> <div class=codehilite><pre><span></span><code>{&quot;share&quot;: &quot;1&quot;}
</code></pre></div> <p>, prize in physics after World War II, i.e.</p> <div class=codehilite><pre><span></span><code>{&quot;year&quot;: {&quot;$gte&quot;: &quot;1945&quot;}}
</code></pre></div> <p>, to the number of laureates who won a <em>shared</em> prize in physics after World War II?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># Save a filter for laureates with unshared prizes</span>
<span class=n>unshared</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;prizes&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$elemMatch&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span>
        <span class=s2>&quot;share&quot;</span><span class=p>:</span> <span class=s2>&quot;1&quot;</span><span class=p>,</span>
        <span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gte&quot;</span><span class=p>:</span> <span class=s2>&quot;1945&quot;</span><span class=p>},</span>
    <span class=p>}}}</span>

<span class=c1># Save a filter for laureates with shared prizes</span>
<span class=n>shared</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;prizes&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$elemMatch&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span>
        <span class=s2>&quot;share&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gt&quot;</span><span class=p>:</span> <span class=s2>&quot;1&quot;</span><span class=p>},</span>
        <span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gte&quot;</span><span class=p>:</span> <span class=s2>&quot;1945&quot;</span><span class=p>},</span>
    <span class=p>}}}</span>

<span class=n>ratio</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>count_documents</span><span class=p>(</span><span class=n>unshared</span><span class=p>)</span> <span class=o>/</span> <span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>count_documents</span><span class=p>(</span><span class=n>shared</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>ratio</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>0.1232876712328767
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=finding-a-substring-with-regex>Finding a substring with $regex<a class=headerlink href=#finding-a-substring-with-regex title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span>
    <span class=s2>&quot;bornCountry&quot;</span><span class=p>,</span>
    <span class=p>{</span><span class=s2>&quot;bornCountry&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$regex&quot;</span><span class=p>:</span> <span class=s2>&quot;Poland&quot;</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;Austria-Hungary (now Poland)&#39;,
 &#39;Free City of Danzig (now Poland)&#39;,
 &#39;German-occupied Poland (now Poland)&#39;,
 &#39;Germany (now Poland)&#39;,
 &#39;Poland&#39;,
 &#39;Poland (now Belarus)&#39;,
 &#39;Poland (now Lithuania)&#39;,
 &#39;Poland (now Ukraine)&#39;,
 &#39;Prussia (now Poland)&#39;,
 &#39;Russian Empire (now Poland)&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=beginning-and-ending>Beginning and ending<a class=headerlink href=#beginning-and-ending title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span>
    <span class=s2>&quot;bornCountry&quot;</span><span class=p>,</span> 
     <span class=p>{</span><span class=s2>&quot;bornCountry&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$regex&quot;</span><span class=p>:</span><span class=s2>&quot;^Poland&quot;</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;Poland&#39;,
 &#39;Poland (now Belarus)&#39;,
 &#39;Poland (now Lithuania)&#39;,
 &#39;Poland (now Ukraine)&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span>
    <span class=s2>&quot;bornCountry&quot;</span><span class=p>,</span> 
     <span class=p>{</span><span class=s2>&quot;bornCountry&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$regex&quot;</span><span class=p>:</span><span class=s2>&quot;^Poland \(now&quot;</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;Poland (now Belarus)&#39;, &#39;Poland (now Lithuania)&#39;, &#39;Poland (now Ukraine)&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>distinct</span><span class=p>(</span>
    <span class=s2>&quot;bornCountry&quot;</span><span class=p>,</span> 
     <span class=p>{</span><span class=s2>&quot;bornCountry&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$regex&quot;</span><span class=p>:</span><span class=s2>&quot;now Poland\)$&quot;</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[&#39;Austria-Hungary (now Poland)&#39;,
 &#39;Free City of Danzig (now Poland)&#39;,
 &#39;German-occupied Poland (now Poland)&#39;,
 &#39;Germany (now Poland)&#39;,
 &#39;Prussia (now Poland)&#39;,
 &#39;Russian Empire (now Poland)&#39;]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=regex-example-glenn-george-and-others-in-the-gs-crew>Regex example: Glenn, George, and others in the G.S. crew<a class=headerlink href=#regex-example-glenn-george-and-others-in-the-gs-crew title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>There are two laureates with Berkeley, California as a prize affiliation city that have the initials G.S. - Glenn Seaborg and George Smoot.</p> <p>How many laureates in total have a first name beginning with "G" and a surname beginning with "S"?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>count_documents</span><span class=p>({</span><span class=s2>&quot;firstname&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$regex&quot;</span><span class=p>:</span><span class=s2>&quot;^G&quot;</span><span class=p>},</span> <span class=s2>&quot;surname&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$regex&quot;</span><span class=p>:</span><span class=s2>&quot;^S&quot;</span><span class=p>}})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>10</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=2-projection-and-sorting>2: Projection and Sorting<a class=headerlink href=#2-projection-and-sorting title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=what-is-projection>What is "projection"?<a class=headerlink href=#what-is-projection title="Permanent link">&para;</a></h3> <ul> <li>reducing data to fewer dimensions</li> <li>Asking certain data to "speak up"!</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img alt src=../assets/map-projections.jpg></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=projection-in-mongodb>Projection in MongoDB<a class=headerlink href=#projection-in-mongodb title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>When using <code>db.collection.find()</code>, the first argument is the filter and the second is the projection.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>({},</span> <span class=p>{})</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&lt;pymongo.cursor.Cursor at 0x7f8360632850&gt;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Since <code>db.collection.find()</code> returns a cursor, we need to make it into a list:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>({},{}))[:</span><span class=mi>3</span><span class=p>]</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[{&#39;_id&#39;: ObjectId(&#39;5f1f4e418defad6d9f1cce95&#39;)},
 {&#39;_id&#39;: ObjectId(&#39;5f1f4e418defad6d9f1cce96&#39;)},
 {&#39;_id&#39;: ObjectId(&#39;5f1f4e418defad6d9f1cce97&#39;)}]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>An empty projection dictionary by default only displays the entry <code>"_id"</code> field. To project out the prizes.affiliation field without the <code>"_id"</code> field, we would use a projection equal to <code>{"prizes.affiliations": 1, "_id": 0}</code>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>({},{</span><span class=s2>&quot;prizes.affiliations&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}))[:</span><span class=mi>3</span><span class=p>]</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[{&#39;prizes&#39;: [{&#39;affiliations&#39;: [{&#39;name&#39;: &#39;Munich University&#39;,
      &#39;city&#39;: &#39;Munich&#39;,
      &#39;country&#39;: &#39;Germany&#39;}]}]},
 {&#39;prizes&#39;: [{&#39;affiliations&#39;: [{&#39;name&#39;: &#39;Leiden University&#39;,
      &#39;city&#39;: &#39;Leiden&#39;,
      &#39;country&#39;: &#39;the Netherlands&#39;}]}]},
 {&#39;prizes&#39;: [{&#39;affiliations&#39;: [{&#39;name&#39;: &#39;Amsterdam University&#39;,
      &#39;city&#39;: &#39;Amsterdam&#39;,
      &#39;country&#39;: &#39;the Netherlands&#39;}]}]}]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>where the <code>1</code> value turns on <code>"prizes.affiliations"</code> and the <code>0</code> value turns off <code>"_id"</code>.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=missing-fields>Missing fields<a class=headerlink href=#missing-fields title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;gender&quot;</span><span class=p>:</span> <span class=s2>&quot;org&quot;</span><span class=p>},</span> <span class=p>{</span><span class=s2>&quot;firstname&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;born&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[{&#39;firstname&#39;: &#39;Institute of International Law&#39;, &#39;born&#39;: &#39;1873-00-00&#39;},
 {&#39;firstname&#39;: &#39;Permanent International Peace Bureau&#39;, &#39;born&#39;: &#39;1891-00-00&#39;},
 {&#39;firstname&#39;: &#39;International Committee of the Red Cross&#39;,
  &#39;born&#39;: &#39;1863-00-00&#39;},
 {&#39;firstname&#39;: &#39;Nansen International Office for Refugees&#39;,
  &#39;born&#39;: &#39;1921-00-00&#39;},
 {&#39;firstname&#39;: &#39;Friends Service Council&#39;, &#39;born&#39;: &#39;1647-00-00&#39;},
 {&#39;firstname&#39;: &#39;American Friends Service Committee&#39;, &#39;born&#39;: &#39;1917-00-00&#39;},
 {&#39;firstname&#39;: &#39;Office of the United Nations High Commissioner for Refugees&#39;,
  &#39;born&#39;: &#39;1951-00-00&#39;},
 {&#39;firstname&#39;: &#39;League of Red Cross Societies&#39;, &#39;born&#39;: &#39;1919-00-00&#39;},
 {&#39;firstname&#39;: &#34;United Nations Children&#39;s Fund&#34;, &#39;born&#39;: &#39;1946-00-00&#39;},
 {&#39;firstname&#39;: &#39;International Labour Organization&#39;, &#39;born&#39;: &#39;1919-00-00&#39;},
 {&#39;firstname&#39;: &#39;Amnesty International&#39;, &#39;born&#39;: &#39;1961-00-00&#39;},
 {&#39;firstname&#39;: &#39;International Physicians for the Prevention of Nuclear War&#39;,
  &#39;born&#39;: &#39;1980-00-00&#39;},
 {&#39;firstname&#39;: &#39;United Nations Peacekeeping Forces&#39;, &#39;born&#39;: &#39;1948-00-00&#39;},
 {&#39;firstname&#39;: &#39;Pugwash Conferences on Science and World Affairs&#39;,
  &#39;born&#39;: &#39;1957-00-00&#39;},
 {&#39;firstname&#39;: &#39;International Campaign to Ban Landmines&#39;,
  &#39;born&#39;: &#39;1992-00-00&#39;},
 {&#39;firstname&#39;: &#39;Médecins Sans Frontières&#39;, &#39;born&#39;: &#39;1971-00-00&#39;},
 {&#39;firstname&#39;: &#39;United Nations&#39;, &#39;born&#39;: &#39;1945-00-00&#39;},
 {&#39;firstname&#39;: &#39;International Atomic Energy Agency&#39;, &#39;born&#39;: &#39;1957-00-00&#39;},
 {&#39;firstname&#39;: &#39;Grameen Bank&#39;, &#39;born&#39;: &#39;1976-00-00&#39;},
 {&#39;firstname&#39;: &#39;Intergovernmental Panel on Climate Change&#39;,
  &#39;born&#39;: &#39;1988-00-00&#39;},
 {&#39;firstname&#39;: &#39;European Union (EU)&#39;, &#39;born&#39;: &#39;1952-00-00&#39;},
 {&#39;firstname&#39;: &#39;Organisation for the Prohibition of Chemical Weapons&#39;,
  &#39;born&#39;: &#39;1997-00-00&#39;},
 {&#39;firstname&#39;: &#39;National Dialogue Quartet &#39;},
 {&#39;firstname&#39;: &#39;International Campaign to Abolish Nuclear Weapons (ICAN)&#39;,
  &#39;born&#39;: &#39;2007-00-00&#39;}]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=projection-example-shares-of-the-1963-prize-in-physics>Projection example: Shares of the 1963 prize in physics<a class=headerlink href=#projection-example-shares-of-the-1963-prize-in-physics title="Permanent link">&para;</a></h3> <p>Let's examine the laureates of the 1963 prize in physics and how they split the prize. Here is a query without projection:</p> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;prizes&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$elemMatch&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span> <span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=s2>&quot;1963&quot;</span><span class=p>}}})</span>
</code></pre></div> <p>How would we fetch the laureates' full names and prize share info?</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>projection</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;firstname&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;surname&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;prizes.share&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}</span>

<span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;prizes&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$elemMatch&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>,</span> <span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=s2>&quot;1963&quot;</span><span class=p>}}},</span> <span class=n>projection</span><span class=p>))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[{&#39;firstname&#39;: &#39;Eugene&#39;, &#39;surname&#39;: &#39;Wigner&#39;, &#39;prizes&#39;: [{&#39;share&#39;: &#39;2&#39;}]},
 {&#39;firstname&#39;: &#39;Maria&#39;,
  &#39;surname&#39;: &#39;Goeppert Mayer&#39;,
  &#39;prizes&#39;: [{&#39;share&#39;: &#39;4&#39;}]},
 {&#39;firstname&#39;: &#39;J. Hans D.&#39;, &#39;surname&#39;: &#39;Jensen&#39;, &#39;prizes&#39;: [{&#39;share&#39;: &#39;4&#39;}]}]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=sorting-post-query-with-python>Sorting post-query with Python<a class=headerlink href=#sorting-post-query-with-python title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>operator</span> <span class=kn>import</span> <span class=n>itemgetter</span>

<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>},</span>
                           <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}))</span>

<span class=n>docs</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>docs</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>itemgetter</span><span class=p>(</span><span class=s2>&quot;year&quot;</span><span class=p>))</span>

<span class=nb>print</span><span class=p>([</span><span class=n>doc</span><span class=p>[</span><span class=s2>&quot;year&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>docs</span><span class=p>][:</span><span class=mi>5</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>[&#39;1901&#39;, &#39;1902&#39;, &#39;1903&#39;, &#39;1904&#39;, &#39;1905&#39;]
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>docs</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>docs</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>itemgetter</span><span class=p>(</span><span class=s2>&quot;year&quot;</span><span class=p>),</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

<span class=nb>print</span><span class=p>([</span><span class=n>doc</span><span class=p>[</span><span class=s2>&quot;year&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>docs</span><span class=p>][:</span><span class=mi>5</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>[&#39;2019&#39;, &#39;2018&#39;, &#39;2017&#39;, &#39;2016&#39;, &#39;2015&#39;]
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=sorting-in-query-with-mongodb>Sorting in-query with MongoDB<a class=headerlink href=#sorting-in-query-with-mongodb title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>cursor</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>},</span>
                        <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>
                        <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>

<span class=nb>print</span><span class=p>([</span><span class=n>doc</span><span class=p>[</span><span class=s2>&quot;year&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>cursor</span><span class=p>][:</span><span class=mi>5</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>[&#39;1901&#39;, &#39;1902&#39;, &#39;1903&#39;, &#39;1904&#39;, &#39;1905&#39;]
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>cursor</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;physics&quot;</span><span class=p>},</span>
                        <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>
                        <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)])</span>

<span class=nb>print</span><span class=p>([</span><span class=n>doc</span><span class=p>[</span><span class=s2>&quot;year&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>cursor</span><span class=p>][:</span><span class=mi>5</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>[&#39;2019&#39;, &#39;2018&#39;, &#39;2017&#39;, &#39;2016&#39;, &#39;2015&#39;]
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=primary-and-secondary-sorting>Primary and secondary sorting<a class=headerlink href=#primary-and-secondary-sorting title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>
        <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gt&quot;</span><span class=p>:</span> <span class=s2>&quot;1966&quot;</span><span class=p>,</span> <span class=s2>&quot;$lt&quot;</span><span class=p>:</span> <span class=s2>&quot;1970&quot;</span><span class=p>}},</span>
        <span class=p>{</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>},</span>
        <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s2>&quot;category&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)]):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=p>[</span><span class=s2>&quot;year&quot;</span><span class=p>],</span><span class=n>doc</span><span class=p>[</span><span class=s2>&quot;category&quot;</span><span class=p>])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>1967 physics
1967 peace
1967 medicine
1967 literature
1967 chemistry
1968 physics
1968 peace
1968 medicine
1968 literature
1968 chemistry
1969 physics
1969 peace
1969 medicine
1969 literature
1969 economics
1969 chemistry
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=sorting-example-what-the-sort>Sorting example: What the sort?<a class=headerlink href=#sorting-example-what-the-sort title="Permanent link">&para;</a></h3> <p>This block prints out the first five projections of a sorted query. What "sort" argument fills the blank?</p> <p><div class=highlight><pre><span></span><code><span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>
    <span class=p>{</span><span class=s2>&quot;born&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gte&quot;</span><span class=p>:</span> <span class=s2>&quot;1900&quot;</span><span class=p>},</span> <span class=s2>&quot;prizes.year&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gte&quot;</span><span class=p>:</span> <span class=s2>&quot;1954&quot;</span><span class=p>},</span> <span class=s2>&quot;gender&quot;</span><span class=p>:{</span><span class=s2>&quot;$in&quot;</span><span class=p>:[</span><span class=s2>&quot;male&quot;</span><span class=p>,</span><span class=s2>&quot;female&quot;</span><span class=p>]}},</span>
    <span class=p>{</span><span class=s2>&quot;born&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;prizes.year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>},</span>
    <span class=n>sort</span> <span class=o>=</span> <span class=n>____</span><span class=p>))</span>
<span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>docs</span><span class=p>[:</span><span class=mi>5</span><span class=p>]:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code>{&#39;born&#39;: &#39;1916-08-25&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1954&#39;}]}
{&#39;born&#39;: &#39;1915-06-15&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1954&#39;}]}
{&#39;born&#39;: &#39;1901-02-28&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1954&#39;}, {&#39;year&#39;: &#39;1962&#39;}]}
{&#39;born&#39;: &#39;1913-07-12&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1955&#39;}]}
{&#39;born&#39;: &#39;1911-01-26&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1955&#39;}]}
</code></pre></div></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Primary sorting is ascending by <code>"prizes.year"</code>. Secondary sort is descending by <code>"born"</code>. Thus, sort=<code>[("prizes.year",1),("born",-1)]</code>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>my_sort</span> <span class=o>=</span> <span class=p>[(</span><span class=s2>&quot;prizes.year&quot;</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=s2>&quot;born&quot;</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>)]</span>

<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>laureates</span><span class=o>.</span><span class=n>find</span><span class=p>(</span>
    <span class=p>{</span><span class=s2>&quot;born&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gte&quot;</span><span class=p>:</span> <span class=s2>&quot;1900&quot;</span><span class=p>},</span> <span class=s2>&quot;prizes.year&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;$gte&quot;</span><span class=p>:</span> <span class=s2>&quot;1954&quot;</span><span class=p>},</span> <span class=s2>&quot;gender&quot;</span><span class=p>:{</span><span class=s2>&quot;$in&quot;</span><span class=p>:[</span><span class=s2>&quot;male&quot;</span><span class=p>,</span><span class=s2>&quot;female&quot;</span><span class=p>]}},</span>
    <span class=p>{</span><span class=s2>&quot;born&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;prizes.year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>},</span>
    <span class=n>sort</span> <span class=o>=</span> <span class=n>my_sort</span><span class=p>))</span>
<span class=k>for</span> <span class=n>doc</span> <span class=ow>in</span> <span class=n>docs</span><span class=p>[:</span><span class=mi>5</span><span class=p>]:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>{&#39;born&#39;: &#39;1916-08-25&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1954&#39;}]}
{&#39;born&#39;: &#39;1915-06-15&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1954&#39;}]}
{&#39;born&#39;: &#39;1901-02-28&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1962&#39;}, {&#39;year&#39;: &#39;1954&#39;}]}
{&#39;born&#39;: &#39;1913-07-12&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1955&#39;}]}
{&#39;born&#39;: &#39;1911-01-26&#39;, &#39;prizes&#39;: [{&#39;year&#39;: &#39;1955&#39;}]}
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=3-indexing>3: Indexing<a class=headerlink href=#3-indexing title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=what-are-indexes>What are indexes?<a class=headerlink href=#what-are-indexes title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img alt src=../assets/index-steps-1.png></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img alt src=../assets/index-steps-2.png></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img alt src=../assets/index-steps-3.png></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=when-to-use-indexes>When to use indexes?<a class=headerlink href=#when-to-use-indexes title="Permanent link">&para;</a></h3> <ul> <li>Queries with high specificity</li> <li>Large documents</li> <li>Large collections</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=getting-index-information>Getting index information<a class=headerlink href=#getting-index-information title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>index_information</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;_id_&#39;: {&#39;v&#39;: 2, &#39;key&#39;: [(&#39;_id&#39;, 1)], &#39;ns&#39;: &#39;nobel.prizes&#39;}}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=gauging-performance-before-indexing>Gauging performance before indexing<a class=headerlink href=#gauging-performance-before-indexing title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Jupyter Notebook <code>%%timeit</code>magic (same as <code>python -m timeit "[expression]"</code>) </p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=s2>&quot;1901&quot;</span><span class=p>}))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>577 µs ± 22.4 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({},</span> <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>5 ms ± 269 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({},</span> <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)]))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>4.79 ms ± 400 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=adding-a-single-field-index>Adding a single-field index<a class=headerlink href=#adding-a-single-field-index title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <ul> <li>index model: list of <code>(field, direction)</code>pairs.</li> <li>directions: 1 (ascending) and -1 (descending)</li> </ul> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>create_index</span><span class=p>([(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&#39;year_1&#39;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>index_information</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;_id_&#39;: {&#39;v&#39;: 2, &#39;key&#39;: [(&#39;_id&#39;, 1)], &#39;ns&#39;: &#39;nobel.prizes&#39;},
 &#39;year_1&#39;: {&#39;v&#39;: 2, &#39;key&#39;: [(&#39;year&#39;, 1)], &#39;ns&#39;: &#39;nobel.prizes&#39;}}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=s2>&quot;1901&quot;</span><span class=p>}))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>330 µs ± 12.1 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({},</span> <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>3.89 ms ± 122 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({},</span> <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)]))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>4.07 ms ± 122 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>drop_index</span><span class=p>([(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>create_index</span><span class=p>([(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&#39;year_-1&#39;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({},</span> <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)]))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>4.36 ms ± 249 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>drop_index</span><span class=p>([(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=adding-a-compound-multiple-field-index>Adding a compound (multiple-field) index<a class=headerlink href=#adding-a-compound-multiple-field-index title="Permanent link">&para;</a></h3> <ul> <li>index "covering" a query with projection</li> </ul> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;economics&quot;</span><span class=p>},</span> <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>620 µs ± 3.05 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>create_index</span><span class=p>([(</span><span class=s2>&quot;category&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&#39;category_1_year_1&#39;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=nb>list</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find</span><span class=p>({</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;economics&quot;</span><span class=p>},</span> <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}))</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>435 µs ± 12.3 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>drop_index</span><span class=p>([(</span><span class=s2>&quot;category&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <ul> <li>index "covering" a query with projection and sorting</li> </ul> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find_one</span><span class=p>(</span>
    <span class=p>{</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;economics&quot;</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>},</span>
    <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>698 µs ± 62.2 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>create_index</span><span class=p>([(</span><span class=s2>&quot;category&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&#39;category_1_year_1&#39;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=o>%%</span><span class=n>timeit</span>
<span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>find_one</span><span class=p>(</span>
    <span class=p>{</span><span class=s2>&quot;category&quot;</span><span class=p>:</span> <span class=s2>&quot;economics&quot;</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;year&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;_id&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>},</span>
    <span class=n>sort</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>504 µs ± 17.7 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>db</span><span class=o>.</span><span class=n>prizes</span><span class=o>.</span><span class=n>drop_index</span><span class=p>([(</span><span class=s2>&quot;category&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s2>&quot;year&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)])</span>
</code></pre></div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../03_MongoDB_part1/lessons/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Intro to MongoDB" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Intro to MongoDB </div> </div> </a> <a href=../../../lessons/01_website_walkthrough/website_walkthrough/ class="md-footer__link md-footer__link--next" aria-label="Next: The Materials Project Website" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> The Materials Project Website </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Built by The Materials Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["instant", "tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.76f349be.min.js></script> <script src=../../../assets/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>